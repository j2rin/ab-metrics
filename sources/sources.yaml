buyer_stream:
  metric_configs: [buyer_stream]
  database: vertica
  table: dma.vo_buyer_stream
  sql: buyer_stream
  column_map:
    query: query_id
    item: item_id
    session: [cookie_id, session_no]
    cookie: cookie_id
    user: user_id
    cookie_item: [cookie_id, item_id]
    item_x: [item_id, x]
    x: [cookie_id, x]
    cookie_logcat: [cookie_id, logical_category_id]
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
    - rec_engine
    - x_vertical
    - x_logical_category
    - x_category
    - x_subcategory
    - x_param1
    - x_param2
    - x_param3
    - x_param4
    - x_region
    - x_city
    - x_location_group
    - x_population_group
    - x_location_level
    - condition
    - boost_class
    - user_segment_market
    - is_asd
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  dtm: event_date
  segm: cookie_id

pageviews:
  metric_configs: [pageviews]
  database: vertica
  table: dma.vo_clickstream_pageviews
  sql: page_views
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

user_dau:
  metric_configs: [user_dau]
  database: vertica
  table: dma.vo_clickstream_pageviews
  sql: page_views
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: user
  dtm: event_date
  segm: cookie_id

seller_item_active:
  metric_configs: [seller_item_active]
  database: vertica
  table: dma.vo_seller_item_active
  column_map:
    item: item_id
    user: user_id
    user_logcat: [user_id, logical_category_id]
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
    - is_asd
    - user_segment_market
    - logical_param1
    - logical_param2
    - condition
    - asd_user_group
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

seller_item_event:
  metric_configs: [seller_item_event]
  database: vertica
  table: dma.vo_seller_item_event
  column_map:
    item: item_id
    user: user_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
    - is_asd
    - user_segment_market
    - location
    - microcat
    - logical_param1
    - logical_param2
    - condition
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

geo_loc_change:
  metric_configs: [geo_loc_change]
  database: vertica
  table: dma.vo_geo_loc_change
  column_map:
    cookie: cookie_id
    session: session_no
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

geo_map_stream:
  metric_configs: [geo_map_stream]
  database: vertica
  table: dma.vo_geo_map_stream
  column_map:
    session: session_no
    cookie: cookie_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

perf_mobile:
  metric_configs: [perf_mobile]
  database: vertica
  table: dma.o_perf_mobile
  dimensions: [platform, network_type, is_core_content, screen_name, content_type]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: observation_date
  segm: cookie_id

perf_content_sli:
  metric_configs: [perf_content_sli]
  database: vertica
  table: dma.performance_requests_sli
  dimensions: [platform]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

perf_resources:
  metric_configs: [perf_resources]
  database: vertica
  table: dma.performance_resources_web
  dimensions: [platform, screen_name]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

perf_mobile_apps_startup_times:
  metric_configs: [perf_mobile_apps_startup_times]
  database: vertica
  table: dma.o_perf_mobile_apps_startup_times
  dimensions: [platform]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

perf_mobile_memory_warnings:
  metric_configs: [perf_mobile_memory_warnings]
  database: vertica
  table: dma.o_perf_memory_warnings
  column_map:
    cookie: cookie_id
  dimensions: [platform, screen_name]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

perf_web:
  metric_configs: [perf_web]
  database: vertica
  table: dma.o_perf_web
  column_map:
    cookie: cookie_id
  dimensions: [platform, network_type, screen_name, stage_name]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: observation_date
  segm: cookie_id

core_contacts:
  metric_configs: [core_contacts]
  column_map:
    cookie: cookie_id
    logcat_item: [item_id, logical_category_id]
    cookie_logcat: [cookie_id, logical_category_id]
  database: vertica
  table: dma.vo_core_contacts
  sql: core_contacts
  dimensions: [platform, vertical, logical_category, logical_param1, logical_param2, category, subcategory, param1, region, city, location_group, population_group, location_level, price_group, is_asd, user_segment_market, asd_user_group]
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

advert_funnel:
  metric_configs: [advert_funnel]
  column_map:
    session: session_hash
  database: vertica
  table: dma.vo_advert_funnel
  dimensions: [platform, category, subcategory, vertical, logical_category]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

mnz_bundle:
  metric_configs: [mnz_bundle]
  database: vertica
  table: dma.vo_mnz_bundle
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
    - [is_asd, vertical, logical_category, user_segment_market]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id


user_rating:
  metric_configs: [user_rating]
  database: vertica
  table: dma.vo_user_rating
  dimensions: [vertical, logical_category]
  m42_cartesian_groups:
    - [vertical, logical_category]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

str:
  metric_configs: [str]
  database: vertica
  table: dma.vo_str
  column_map:
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, location_group, population_group, location_level]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

str_by_cookies:
  metric_configs: [str_by_cookies]
  database: vertica
  table: dma.vo_str
  column_map:
    participant: participant_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, location_group, population_group, location_level]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category, region]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

public_profile:
  metric_configs: [public_profile]
  database: vertica
  table: dma.vo_public_profile
  column_map:
    cookie: cookie_id
  dimensions: [platform]
  participant: {visitor: cookie_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

mnz_vas:
  metric_configs: [mnz_vas]
  database: vertica
  table: dma.vo_mnz_vas_metrics
  column_map:
    user: user_id
  dimensions: [platform, page_from, vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level, is_asd, user_segment_market]
  participant: {user: user_id}
  primary_subject: user
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  dtm: event_date
  segm: user_id

labor:
  metric_configs: [labor]
  database: vertica
  table: dma.vo_labor
  column_map:
    cookie: cookie_id
    session: session_no
    participant: participant_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

express_cv:
  metric_configs: [express_cv]
  database: vertica
  table: dma.vo_express_cv
  dimensions: [platform]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

delivery_orders_buyer:
  metric_configs: [delivery_orders_buyer]
  database: vertica
  table: dma.vo_delivery_orders
  column_map:
    deliveryorder: deliveryorder_id
    buyer_item: [buyer_id, item_id]
  dimensions:
    - platform
    - vertical
    - logical_category
    - logical_param1
    - logical_param2
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
    - buyer_location
    - buyer_city
    - buyer_location_group
    - buyer_population_group
    - buyer_location_level
    - is_delivery_paid_new
    - is_delivery_accepted_new
    - delivery_workflow
    - delivery_service
    - is_intercity
    - user_segment_market
    - has_avito_bindings
  m42_cartesian_groups:
      - [vertical, logical_category, city, user_segment_market, is_asd]
      - [category, subcategory, param1, city, user_segment_market, is_asd]
  participant: {user: buyer_id}
  primary_subject: user
  dtm: status_date
  segm: deliveryorder_id

delivery_orders_funnel:
  metric_configs: [delivery_orders_funnel]
  database: vertica
  table: dma.vo_delivery_orders
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
    - buyer_location
    - buyer_city
    - buyer_location_group
    - buyer_population_group
    - buyer_location_level
    - is_delivery_paid_new
    - is_delivery_accepted_new
    - delivery_workflow
    - delivery_service
    - is_intercity
    - user_segment_market
    - has_avito_bindings
  participant: {user: buyer_id}
  primary_subject: user
  dtm: create_date
  segm: deliveryorder_id

delivery_orders_seller:
  metric_configs: [delivery_orders_seller]
  database: vertica
  table: dma.vo_delivery_orders
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
    - buyer_location
    - buyer_city
    - buyer_location_group
    - buyer_population_group
    - buyer_location_level
    - is_delivery_paid_new
    - is_delivery_accepted_new
    - delivery_workflow
    - delivery_service
    - is_intercity
    - user_segment_market
  participant: {user: seller_id}
  primary_subject: user
  dtm: status_date
  segm: deliveryorder_id


billing:
  metric_configs: [billing]
  database: vertica
  table: dma.vo_billing
  column_map:
    user: user_id
  dimensions: [platform]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

session_source:
  metric_configs: [session_source]
  database: vertica
  table: dma.vo_session_source
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant:  {visitor: cookie_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

support:
  metric_configs: [support]
  database: vertica
  table: dma.vo_support
  column_map:
    participant: participant_id
  dimensions: [platform]
  participant:  {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

support_hc:
  metric_configs: [support_hc]
  database: vertica
  table: dma.vo_support_hc_metrics
  column_map:
    participant: participant_id
  dimensions: [platform]
  participant:  {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id
  
support_crosschannel:
  metric_configs: [support_crosschannel]
  database: vertica
  table: dma.vo_support_crosschannel
  column_map:
    participant: participant_id
  participant:  {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

cookie_account_enter:
  metric_configs: [cookie_account_enter]
  database: vertica
  table: dma.vo_cookie_account_enter
  column_map:
    cookie: cookie_id
  dimensions: [platform]
  participant: {visitor: cookie_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

favourite_sellers_totals:
  metric_configs: [favourite_sellers_totals]
  database: vertica
  table: dma.favourite_sellers_totals
  column_map:
    user: user_id
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

communications:
  metric_configs: [communications]
  database: vertica
  table: dma.vo_communications
  column_map:
    user: user_id
  dimensions:
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
    - phone_location_group
    - phone_population_group
    - phone_location_level
    - phone_city
    - phone_region
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant:  {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

image:
  metric_configs: [image]
  database: vertica
  table: dma.o_image_mobile
  column_map:
    participant: cookie_id
  dimensions: [platform, network_type, screen_name]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: observation_date
  segm: cookie_id

buyer_suggest:
  metric_configs: [buyer_suggest]
  database: vertica
  table: dma.vo_buyer_suggest
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [is_logged_in]
  dtm: event_date
  segm: cookie_id

buyer_shortcut:
  metric_configs: [buyer_shortcut]
  database: vertica
  table: dma.o_buyer_shortcut
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - category
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [is_logged_in, category]
  dtm: event_date
  segm: cookie_id

buyer_filter:
  metric_configs: [buyer_filter]
  database: vertica
  table: dma.o_buyer_filter
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [is_logged_in]
  dtm: event_date
  segm: cookie_id

story_delay:
  metric_configs: [story_delay]
  database: vertica
  sql: story_delay
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
  participant: {visitor: cookie_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [is_logged_in]
  dtm: event_date
  segm: cookie_id

weighted_buyer:
  metric_configs: [weighted_buyer]
  database: vertica
  table: dma.vo_weighted_buyer_metric
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - user_segment_market
  participant: {visitor: cookie_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category, user_segment_market]
  dtm: event_date
  segm: cookie_id

seller_item_add:
  metric_configs: [seller_item_add]
  database: vertica
  table: dma.vo_seller_item_add
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions:
    - platform
    - vertical
    - logical_category
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [vertical, logical_category]
  dtm: event_date
  segm: eventchain_id

seller_item_add_finish:
  metric_configs: [seller_item_add_finish]
  database: vertica
  table: dma.vo_seller_item_add
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - microcat
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: item_create_date
  segm: eventchain_id

support_ticket:
  metric_configs: [support_ticket]
  database: vertica
  table: dma.vo_support_ticket
  dimensions: [logical_category, vertical, region, city, user_segment_market, is_asd]
  participant: {user: user_id}
  primary_subject: user
  dtm: create_date
  segm: user_id

geo_map_labor:
  metric_configs: [geo_map_labor]
  database: vertica
  table: dma.vo_geo_map_labor
  column_map:
    participant: participant_id
  dimensions:
    - platform
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [is_logged_in]
  participant:  {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_Date
  segm: cookie_id

buyer_call:
  metric_configs: [buyer_call]
  database: vertica
  table: dma.vo_buyer_call
  column_map:
    item: item_id
    participant: participant_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, population_group, user_segment_market]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

seller_matched_call:
  metric_configs: [seller_matched_call]
  database: vertica
  table: dma.vo_seller_matched_call
  column_map:
    item: item_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, population_group]
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id


notification:
  metric_configs: [notification]
  database: vertica
  table: dma.vo_notification
  column_map:
    cookie: cookie_id
    participant: participant_id
  dimensions: [platform]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: user
  dtm: event_date

notification_availability:
  metric_configs: [notification_availability]
  database: vertica
  table: dma.crm_notification_settings_by_user
  column_map:
    participant: user_id
  dimensions:
    - vertical
  m42_cartesian_groups:
    - [vertical]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date

calltracking:
  metric_configs: [calltracking]
  database: vertica
  table: dma.vo_calltracking
  column_map:
    user: user_id
  dimensions:
    - vertical
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [is_logged_in, vertical]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

app_call_bx:
  metric_configs: [app_call_bx]
  database: vertica
  table: dma.vo_app_call_buyer
  column_map:
    item: item_id
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, population_group]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: event_date

app_call_sx:
  metric_configs: [app_call_sx]
  database: vertica
  table: dma.vo_app_call_seller
  column_map:
    item: item_id
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, population_group]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: event_date

app_call_event:
  metric_configs: [app_call_event]
  database: vertica
  table: dma.vo_app_call_event
  column_map:
    item: item_id
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, population_group]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: event_date

app_call_seller_event:
  metric_configs: [app_call_seller_event]
  database: vertica
  table: dma.vo_app_call_seller_event
  column_map:
    item: item_id
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, population_group]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: event_date


fraud_support_tickets:
  metric_configs: [fraud_support_tickets]
  database: vertica
  table: dma.vo_fraud_support_tickets
  column_map:
    cookie: cookie_id
  dimensions:
    - vertical
    - logical_category
    - category
    - subcategory
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: create_date

autoteka_stream:
  metric_configs: [autoteka_stream]
  database: vertica
  table: dma.autoteka_stream
  dimensions: [platform, payment_method, reports_count, searchtype, is_authorized, is_new_user, is_pro]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

geo_coordinates_stream:
  metric_configs: [geo_coordinates_stream]
  database: vertica
  table: dma.vo_coordinates_stream
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
      - [is_logged_in]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

geo_laas_backend:
  metric_configs: [geo_laas_backend]
  database: vertica
  table: dma.vo_laas_stream
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
      - [is_logged_in]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

moder:
  metric_configs: [moder]
  database: vertica
  table: dma.vo_moder
  dimensions: [microcat]
  participant: {user: participant_id}
  primary_subject: user
  dtm: event_date

#callcenter_calls:
#  metric_configs: [callcenter_calls]
#  database: vertica
#  table: dma.vo_callcenter_calls
#  participant: {user: user_id}
#  primary_subject: user
#  dtm: enter_date


listing_fees:
  metric_configs: [listing_fees]
  database: vertica
  table: dma.vo_lf_metrics
  column_map:
    user: user_id
  dimensions:
    - tariff_type
    - tariff_subtype
    - vertical
    - logical_category
    - user_segment_market
    - is_asd
    - region
    - city
    - location_group
    - population_group
    - location_level
    - logical_param1
    - logical_param2
  participant: {user: user_id}
  primary_subject: user
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category, user_segment_market]
  dtm: event_date
  segm: user_id

tariff_transactions:
  metric_configs: [tariff_transactions]
  database: vertica
  table: dma.vo_lf_metrics_transactions
  column_map:
    user: user_id
  dimensions:
    - tariff_type
    - tariff_subtype
    - vertical
    - logical_category
    - user_segment_market
    - is_asd
    - region
    - city
    - location_group
    - population_group
    - location_level
    - platform
  participant: {user: user_id}
  primary_subject: user
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
  dtm: event_date
  segm: user_id


tariff_funnel:
  metric_configs: [tariff_funnel]
  database: vertica
  table: dma.vo_tariff_metrics_funnel
  column_map:
    user: user_id
  dimensions:
    - user_segment_market
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
  participant: {user: user_id}
  primary_subject: user
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  dtm: event_date
  segm: user_id

support_comment:
  metric_configs: [support_comment]
  database: vertica
  table: dma.vo_support_comment
  participant: {user: comment_id}
  primary_subject: user
  dtm: comment_create_date

time_to_interview_for_job_seeker:
  metric_configs: [time_to_interview_for_job_seeker]
  database: vertica
  table: dma.vo_time_to_interview
  column_map:
    user: job_seeker_user_id
  dimensions:
    - platform
  participant: {user: job_seeker_user_id}
  primary_subject: user
  dtm: event_time
  segm: job_seeker_user_id

time_to_interview_for_job_employer:
  metric_configs: [time_to_interview_for_job_employer]
  database: vertica
  table: dma.vo_time_to_interview
  column_map:
    user: job_employer_user_id
  dimensions:
    - platform
  participant: {user: job_employer_user_id}
  primary_subject: user
  dtm: event_time
  segm: job_employer_user_id

search_items:
  metric_configs: [search_items]
  database: vertica
  table: dma.vo_search_items
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - region
  participant: {visitor: cookie_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  dtm: event_date
  segm: event_date  # Просто рандомный столбец, не совпадающий с cookie_id. Чтобы вынудить сделать материализацию при расчете витрин

production_errors:
  metric_configs: [production_errors]
  database: vertica
  table: dma.vo_production_errors
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

geo_loc_suggest:
  metric_configs: [geo_loc_suggest]
  database: vertica
  table: dma.vo_geo_loc_suggest
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - location_group
    - population_group
    - location_level
  participant: {visitor: cookie_id}
  primary_subject: visitor
  dtm: event_date

clickstream:
  metric_configs: [clickstream]
  database: vertica
  table: dma.vo_clickstream_new
  column_map:
    cookie: cookie_id
  dimensions: [platform, vertical, logical_category, category, region, city, location_group, population_group,
               location_level, subcategory, param1, param2, param3, param4]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

clickstream_counters:
  metric_configs: [clickstream_counters]
  database: vertica
  table: dma.vo_clickstream_counters
  column_map:
    cookie: cookie_id
    cookie_order: [cookie_id, orderid]
    cookie_item: [cookie_id, item_id]
  dimensions: [platform, vertical, logical_category, category, region, city, location_group, population_group,
               location_level, subcategory, param1, param2, param3, param4]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

messenger_stream:
  metric_configs: [messenger_stream]
  database: vertica
  table: dma.vo_messenger_stream
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: user
  dtm: event_date
  segm: cookie_id

clickstream_sparse.clickhouse:
    database: clickhouse
    table: dwh.vo_clickstream_sparse_local
    column_map:
      platform_id: business_platform
      cookie_item: [u, iid]
      cookie: u
      item: iid
      item_x: [iid, x]
      x_eid: __x_eid
      q: __x_q
      engine: _x__engine
      item_x_type: 0
      event_count: 1
      network_error_type: ios_network_error_type
      network_error_sub_type: ios_network_error_subtype
    dtm: event_date
    participant: {visitor: u, user: uid}
    primary_subject: visitor
    metric_configs: [clickstream_sparse]
    metrics:
      - bt_clicks
      - bt_clicks_grouped
      - buyers
      - contacts
      - contacts_grouped
      - user_pv
      - users_bt_click_daily
      - users_first_messages
      - fatal_app_errors
      - users_fatal_app_errors
      - users_item_view_daily
      - items_added
      - sellers_daily
      - user_btc_rec_u2i
      - users_item_view_rec_u2i
      - call_phones
      - fps_falls_below_10pct
      - fps_falls_below_30pct
      - fps_falls_below_50pct
      - fps_falls_below_70pct
      - fps_falls_below_85pct
      - fps_falls_below_90pct
      - fps_falls_below_95pct
      - network_error
      - network_api_error
      - network_forbidden_error
      - network_unauthenticated_error
      - network_image_load_error
      - network_client_error
      - network_system_error
      - users_fps_falls_below_10pct
      - users_fps_falls_below_30pct
      - users_fps_falls_below_50pct
      - users_fps_falls_below_70pct
      - users_fps_falls_below_85pct
      - users_fps_falls_below_90pct
      - users_fps_falls_below_95pct
      - user_network_error
      - user_network_api_error
      - user_network_forbidden_error
      - user_network_unauthenticated_error
      - user_network_image_load_error
      - user_network_client_error
      - user_network_system_error
      - users_buyer_target_click_serp_daily
      - users_buyer_target_click_rec_daily
      - users_search
      - buyer_target_clicks_serp
      - buyer_target_clicks_rec
      - users_contact_serp_daily
      - searches_serp
      - searches
      - contacts
      - item_views
      - search_btc
      - searches_contact_serp
      - user_btc_sq
      - search_q
      - user_sq
      - sq_c
      - users_contact_search_query

messenger_blocks:
  metric_configs: [messenger_blocks]
  database: vertica
  table: dma.vo_messenger_blocks
  column_map:
    user: user_id
    chat: chat_Id
  dimensions: [platform, vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

messenger_response_messages:
  metric_configs: [messenger_response_messages]
  database: vertica
  table: dma.vo_messenger_chat_report
  column_map:
    user: user_id
    platform_id: reply_platform_id
  dimensions: [platform, vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant:  {user: user_id}
  primary_subject: user
  dtm: reply_time
  segm: chat_id

messenger_answered_inbox_messages:
  metric_configs: [messenger_answered_inbox_messages]
  database: vertica
  table: dma.vo_messenger_chat_report
  column_map:
    user: user_id
    platform_id: reply_platform_id
  dimensions: [platform, vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant:  {user: user_id}
  primary_subject: user
  dtm: first_message_event_date
  segm: chat_id

messenger_answered_messages:
  metric_configs: [messenger_answered_messages]
  database: vertica
  table: dma.vo_messenger_chat_report
  column_map:
    user: first_message_user_id
  dimensions: [platform, vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {visitor: first_message_cookie_id, user: first_message_user_id}
  primary_subject: visitor
  dtm: first_message_event_date
  segm: chat_id

messenger_inbox_messages:
  metric_configs: [messenger_inbox_messages]
  database: vertica
  table: dma.vo_messenger_chat_report
  column_map:
    user: user_id
  dimensions: [vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: first_message_event_date
  segm: chat_id

messenger_messages:
  metric_configs: [messenger_messages]
  database: vertica
  table: dma.vo_messenger_messages
  column_map:
    user: user_id
    message: message_id
    chat: chat_id
  dimensions: [platform,vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level]
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: from_cookie_id, user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

messenger_active_chats:
  metric_configs: [messenger_active_chats]
  database: vertica
  table: dma.vo_messenger_messages
  column_map:
    chat: chat_id
  dimensions: [vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level]
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  participant: {user: zero}
  primary_subject: user
  dtm: event_date
  segm: chat_id

clickstream_antibot:
  metric_configs: [clickstream_antibot]
  database: vertica
  table: dma.o_clickstream_antibot
  column_map:
      cookie: cookie_id
  dimensions: [platform, vertical, category, app_version]
  m42_cartesian_groups:
    - [ category, vertical, app_version ]
  dtm: event_date
  participant: {visitor: cookie_id}
  primary_subject: visitor
  segm: cookie_id

credit_broker:
  metric_configs: [credit_broker]
  database: vertica
  table: DMA.v_broker_events_revenue
  column_map:
    cookie: cookie_id
  dimensions: [platform, vertical, logical_category, location]
  dtm: event_date
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  segm: cookie_id

credit_broker_revenue:
  metric_configs: [credit_broker_revenue]
  database: vertica
  table: DMA.v_broker_events_revenue
  column_map:
    cookie: cookie_id
  dimensions: [platform, vertical, logical_category, location]
  dtm: issued_date
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  segm: cookie_id

classified_revenue:
  metric_configs: [classified_revenue]
  database: vertica
  table: dma.v_paying_user_report_full
  column_map:
    user: user_id
  dimensions: [vertical, logical_category, logical_param1, logical_param2, location, region, city, location_group, location_level, is_asd, user_segment_market, condition, asd_user_group]
  m42_cartesian_groups:
    - [vertical, logical_category, city, is_asd, user_segment_market]
  dtm: event_date
  participant: {user: user_id}
  primary_subject: user
  segm: user_id

other_projects_revenue:
  metric_configs: [other_projects_revenue]
  database: vertica
  table: dma.vo_other_projects_revenue
  dimensions: [vertical]
  m42_cartesian_groups:
    - [vertical]
  participant: {user: user_id}
  primary_subject: user
  dtm: observation_date

total_revenue:
  metric_configs: [total_revenue]
  database: vertica
  table: dma.vo_total_revenue
  dimensions: [vertical]
  m42_cartesian_groups:
    - [vertical]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date

delivery_user_toggle:
  metric_configs: [delivery_user_toggle]
  database: vertica
  table: dma.v_user_isDeliveryActive
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date

autoteka_stream_autoteka_participant:
  metric_configs: [autoteka_stream_autoteka_participant]
  database: vertica
  table: dma.autoteka_stream
  column_map:
    platform_id: autoteka_platform_id
  dimensions: [platform, payment_method, reports_count, searchtype, is_authorized, is_new_user, is_pro]
  participant: {autoteka_visitor: autoteka_cookie_id, autoteka_user: autotekauser_id}
  primary_subject: autoteka_visitor
  dtm: event_date

reviews:
  metric_configs: [reviews]
  database: vertica
  table: dma.vo_reviews
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, location_group, population_group, location_level]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

lister_reactivations:
    metric_configs: [lister_reactivations]
    database: vertica
    table: dma.vo_lister_reactivations
    dimensions: [logical_category, vertical, region, city]
    m42_cartesian_groups:
      - [logical_category, vertical]
    participant: {user: user_id}
    primary_subject: user
    dtm: event_date

buyer_items_distance:
  metric_configs: [buyers_items_distance]
  database: vertica
  table: dma.vo_buyers_items_distance
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [vertical]
  participant: {visitor: cookie_id}
  primary_subject: visitor
  dtm: event_date


chatbot_metrics_start:
  metric_configs: [chatbot_metrics_start]
  database: vertica
  table: dma.vo_chatbot_metrics
  column_map:
    user: user_id
    flow: flow_id
    chat: chat_id
    flow_run: flowrun_id
  dimensions:
    - vertical
    - logical_category
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: start_flow_time


chatbot_metrics_end:
  metric_configs: [chatbot_metrics_end]
  database: vertica
  table: dma.vo_chatbot_metrics
  column_map:
    user: user_id
    flow: flow_id
    chat: chat_id
    flow_run: flowrun_id
  dimensions:
    - vertical
    - logical_category
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: end_flow_time


verified_users:
  metric_configs: [verified_users]
  database: vertica
  table: dma.verification_statuses
  column_map:
    user: user_id
  participant: {user: user_id}
  primary_subject: user
  dtm: event_time


rating_stream:
  metric_configs: [rating_stream]
  database: vertica
  table: dma.vo_rating_stream
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, location_group, population_group, location_level]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id


rating_search_stream:
  metric_configs: [rating_search_stream]
  database: vertica
  table: dma.vo_rating_search_stream
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, location_group, population_group, location_level]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id


model_rating_stream:
  metric_configs: [model_rating_stream]
  database: vertica
  table: dma.vo_model_rating_stream
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, location_group, population_group, location_level]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id


videocalls_stream:
  metric_configs: [videocalls_stream]
  database: vertica
  table: dma.vo_videocalls_stream
  column_map:
    item: item_id
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, population_group]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: event_date

msh_banned_contacts:
  metric_configs: [msh_banned_contacts]
  database: vertica
  table: dma.vo_msh_banned_contacts
  column_map:
    item: item_id
    user: user_id
  dimensions:
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
    - logical_param1
    - logical_param2
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: item_id

chatbot_events:
  metric_configs: [chatbot_events]
  database: vertica
  table: dma.vo_chatbot_events
  column_map:
    user: user_id
    flow: flow_id
    chat: chat_id
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date

autoload_package_info:
  metric_configs: [autoload_package_info]
  database: vertica
  table: dma.autoload_feed_item_flow
  column_map:
    user: user_id
    category: category_name
    subcategory: subcategory_name
  dimensions:
    - vertical
    - logical_category
    - category
    - subcategory
  participant: { user: user_id }
  primary_subject: user
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  dtm: event_date
  segm: user_id


user_cohort:
  metric_configs: [user_cohort]
  column_map:
    user_logcat: [user_id, logical_category_id]
  database: vertica
  table: dma.vo_user_cohort
  dimensions: [vertical, logical_category, region, city, category, subcategory]
  m42_cartesian_groups:
    - [vertical, logical_category]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date

autoteka_funnel:
  metric_configs: [autoteka_funnel]
  database: vertica
  table: dma.v_autoteka_funnel_main
  dimensions: [platform, is_pro, is_main_page_session, searchtype, is_session_to_exclude]
  participant: {autoteka_visitor: autoteka_cookie_id}
  primary_subject: autoteka_visitor
  dtm: event_date

autoteka_reports:
    metric_configs: [ autoteka_reports ]
    database: vertica
    table: dma.v_autoteka_reports
    dimensions: [ autoteka_car_age_group, autoteka_car_price_group, autoteka_mileage_group, vertical, logical_category, region, city, platform, reports_count, searchtype, is_new_user, is_pro]
    m42_cartesian_groups:
      - [ vertical, logical_category ]
    participant: {visitor: cookie_id, user: user_id}
    primary_subject: visitor
    dtm: autoteka_package_history_created_at

buyer_confirmation_deals:
  metric_configs: [buyer_confirmation_deals]
  database: vertica
  table: dma.vo_confirmation_deals
  column_map:
    item: item_id
    user: buyer_id
    chat: chat_id
  dimensions:
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [logical_category, vertical]
  participant: {user: buyer_id}
  primary_subject: user
  dtm: event_time

seller_confirmation_deals:
  metric_configs: [seller_confirmation_deals]
  database: vertica
  table: dma.vo_confirmation_deals
  column_map:
    item: item_id
    user: seller_id
    chat: chat_id
  dimensions:
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  m42_cartesian_groups:
    - [logical_category, vertical]
  participant: {user: seller_id}
  primary_subject: user
  dtm: event_time

autoteka_reports_autoteka_participant:
  metric_configs: [autoteka_reports_autoteka_participant]
  database: vertica
  table: dma.v_autoteka_reports
  column_map:
    platform_id: autoteka_platform_id
  dimensions: [ autoteka_car_age_group, autoteka_car_price_group, autoteka_mileage_group, vertical, logical_category, region, city, platform, reports_count, searchtype, is_new_user, is_pro ]
  m42_cartesian_groups:
    - [ vertical, logical_category ]
  participant: { autoteka_visitor: autoteka_cookie_id, autoteka_user: autoteka_user_id }
  primary_subject: autoteka_visitor
  dtm: autoteka_package_history_created_at

re_nd_buyer_stream:
  metric_configs: [re_nd_buyer_stream]
  database: vertica
  table: dma.vo_re_nd_buyer_stream
  column_map:
    item: item_id
    cookie: cookie_id
    user: user_id
    cookie_item: [cookie_id, item_id]
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - region
    - city
    - location_group
    - population_group
    - location_level
    - location
    - microcat
    - is_human
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  dtm: event_date

autoteka_new_buyer_expected_revenue_ap:
  metric_configs: [autoteka_new_buyer_expected_revenue_ap]
  database: vertica
  table: dma.v_autoteka_new_buyers_expected_revenue
  dimensions:  [platform, searchtype]
  participant: { autoteka_visitor: autoteka_cookie_id, autoteka_user: autotekauser_Id }
  primary_subject: autoteka_visitor
  dtm: event_date

autoteka_new_buyer_expected_revenue:
 metric_configs: [autoteka_new_buyer_expected_revenue]
 database: vertica
 table: dma.v_autoteka_new_buyers_expected_revenue
 dimensions:  [platform, searchtype]
 participant: { visitor: cookie_id, user: user_id }
 primary_subject: visitor
 dtm: event_date

messenger_transitions:
 metric_configs: [messenger_transitions]
 database: vertica
 table: dma.vo_messenger_transitions
 column_map:
   user: user_id
 dimensions: [vertical, category, subcategory, logical_category, param1, param2, param3, param4, is_asd, user_segment_market]
 m42_cartesian_groups:
   - [is_asd, vertical, logical_category, user_segment_market]
   - [category, subcategory]
 participant: {user: user_id}
 primary_subject: user
 dtm: trigger_date
 segm: user_id



messenger_chat_leads:
  metric_configs: [chat_leads]
  database: vertica
  table: dma.vo_chat_scores
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level]
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: user
  dtm: first_message_event_date
  segm: cookie_id

messenger_inbox_chat_leads:
  metric_configs: [inbox_chat_leads]
  database: vertica
  table: dma.vo_chat_scores
  column_map:
    user: seller_id
  dimensions: [vertical, category, subcategory, logical_category, param1, param2, param3, param4, region, city, location_group, population_group, location_level, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [vertical, logical_category, is_asd, user_segment_market]
    - [category, subcategory]
  participant: {user: seller_id}
  primary_subject: user
  dtm: first_message_event_date
  segm: seller_id

contact_deal:
  metric_configs: [contact_deal]
  database: vertica
  table: dma.vo_contact_deal
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

contact_deal_weight:
  metric_configs: [contact_deal_weight]
  database: vertica
  table: dma.vo_contact_deal_weight
  column_map:
    cookie: cookie_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

contact_deal_user:
  metric_configs: [contact_deal_user]
  database: vertica
  table: dma.vo_contact_deal
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

bs_first_click:
  metric_configs: [bs_first_click]
  database: vertica
  table: dma.bs_first_click
  column_map:
    cookie: cookie_id
  dimensions: [platform, vertical, logical_category]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
  participant: {visitor: cookie_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

first_position_click:
  metric_configs: [first_position_click]
  database: vertica
  table: dma.first_position_click
  column_map:
    cookie: cookie_id
  dimensions: [platform]
  participant: {visitor: cookie_id}
  primary_subject: visitor
  dtm: event_date
  segm: cookie_id

cpa_calls_metrics:
  metric_configs: [cpa_calls_metrics]
  database: vertica
  table: dma.vo_cpa_calls_metrics
  column_map:
    user: user_id
    user_logcat: [user_id, logical_category_id]
  dimensions: [vertical, logical_category, logical_param1, logical_param2, location, region, city, location_group, location_level, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [vertical, logical_category, city, is_asd, user_segment_market]
  dtm: event_date
  participant: {user: user_id}
  primary_subject: user
  segm: user_id

new_pro_listers:
    metric_configs: [new_pro_listers]
    database: vertica
    table: dma.new_pro_listers
    column_map:
        user_logcat: [user_id, logical_category_id]
        user: user_id
        user_vertical: [user_id, vertical_id]
    dimensions: [vertical, logical_category, is_asd]
    m42_cartesian_groups:
    - [vertical, logical_category, is_asd]
    participant: {user: user_id}
    primary_subject: user
    dtm: event_date
    segm: user_id

gmv_deals_proxy:
    metric_configs: [gmv_deals_proxy]
    database: vertica
    table: dma.vo_gmv_deals_proxy
    column_map:
        user: user_id
    dimensions: [vertical, logical_category, region, city, category, subcategory, is_asd, user_segment_market]
    m42_cartesian_groups:
    - [vertical, logical_category, is_asd, user_segment_market]
    - [category, subcategory]
    participant: {user: user_id}
    primary_subject: user
    dtm: event_date
    segm: user_id

performance_fps:
  metric_configs: [performance_fps]
  database: vertica
  table: dma.performance_fps
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - screen_name
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

sphinx_cputime:
  metric_configs: [sphinx_cputime]
  database: vertica
  table: dma.vo_sphinx_cpu
  column_map:
    cookie: cookie_id
  dimensions:
    - platform
    - sphinx_context
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

action_returned:
  metric_configs: [action_returned]
  database: vertica
  table: dma.vo_action_returned
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - region
    - city
    - location_group
    - population_group
    - location_level
    - location
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  m42_cartesian_groups:
    - [vertical, logical_category]
  dtm: event_date

callback_calls:
  metric_configs: [callback_calls]
  database: vertica
  table: dma.vo_recallme_calls
  column_map:
    cookie: cookie_id
  dimensions: [platform, vertical, logical_category, category, subcategory, param1, param2, param3, param4, region, city, population_group]
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category]
    - [category, subcategory]
  participant: {visitor: cookie_id}
  primary_subject: visitor
  dtm: event_date

perf_video_metrics:
  metric_configs: [perf_video_metrics]
  database: vertica
  table: dma.perf_video_metrics
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions:
    - platform
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

perf_queried_hosts_durations:
  metric_configs: [perf_queried_hosts_durations]
  database: vertica
  table: dma.perf_queried_hosts_durations
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions:
    - platform
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

short_rent_item_trx:
  metric_configs: [short_rent_item_trx]
  database: vertica
  table: dma.vo_short_rent_item_trx
  column_map:
    item: item_id
    user: user_id
    user_logcat: [user_id, logical_category_id]
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - region
    - is_asd
    - user_segment_market
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

deal_confirmed:
  metric_configs: [deal_confirmed]
  database: vertica
  table: dma.vo_confirmed_deals
  column_map:
    item: item_id
    user: user_id
    user_logcat: [user_id, logical_category_id]
  dimensions:
    - vertical
    - logical_category
    - category
    - subcategory
    - is_asd
    - user_segment_market
  m42_cartesian_groups:
    - [is_logged_in, is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
  segm: user_id

target_call_bx:
  metric_configs: [target_call_bx]
  database: vertica
  table: dma.vo_target_call
  column_map:
    cookie: buyer_cookie_id
    user: buyer_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  participant: {user: buyer_id}
  primary_subject: user
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category, region]
    - [category, subcategory]
  dtm: call_time
  segm: buyer_id
  
target_call_sx:
  metric_configs: [target_call_sx]
  database: vertica
  table: dma.vo_target_call
  column_map:
    user: seller_id
  dimensions:
    - platform
    - vertical
    - logical_category
    - category
    - subcategory
    - param1
    - param2
    - param3
    - param4
    - region
    - city
    - location_group
    - population_group
    - location_level
  participant: {user: seller_id}
  primary_subject: user
  m42_cartesian_groups:
    - [is_logged_in, vertical, logical_category, region]
    - [category, subcategory]
  dtm: call_time
  segm: seller_id
  
  
sbc_special_offers:
  metric_configs: [sbc_special_offers]
  database: vertica
  table: dma.vo_seller_buyer_communication
  column_map:
    user: user_id
    platform_id: platform_id
  dimensions: [platform, vertical, category, subcategory, logical_category, param1, param2, param3, param4, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant: {user: user_id}
  primary_subject: user
  dtm: discount_send_date
  segm: user_id
  
  
sbc_answered_special_offers:
  metric_configs: [sbc_answered_special_offers]
  database: vertica
  table: dma.vo_seller_buyer_communication
  column_map:
    user: user_id
  dimensions: [vertical, category, subcategory, logical_category, param1, param2, param3, param4, is_asd, user_segment_market]
  m42_cartesian_groups:
    - [is_asd, vertical, logical_category, user_segment_market]
    - [category, subcategory]
  participant:  {user: user_id}
  primary_subject: user
  dtm: discount_send_date
  segm: user_id
    
  
sbc_inbox_special_offers:
  metric_configs: [sbc_inbox_special_offers]
  database: vertica
  table: dma.vo_seller_buyer_communication
  column_map:
    user: buyer_id
  dimensions: [vertical, category, subcategory, logical_category, param1, param2, param3, param4]
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  participant: {user: buyer_id}
  primary_subject: user
  dtm: discount_send_date
  segm: buyer_id
  
  
sbc_answered_inbox_special_offers:
  metric_configs: [sbc_answered_inbox_special_offers]
  database: vertica
  table: dma.vo_seller_buyer_communication
  column_map:
    user: buyer_id
    platform_id: answer_platform
  dimensions: [vertical, category, subcategory, logical_category, param1, param2, param3, param4]
  m42_cartesian_groups:
    - [vertical, logical_category]
    - [category, subcategory]
  participant:  {user: buyer_id}
  primary_subject: user
  dtm: answer_time
  segm: buyer_id

perf_screen_memory_consumption:
  metric_configs: [perf_screen_memory_consumption]
  database: vertica
  table: dma.perf_screen_memory_consumption
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, screen_name]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date

sx_jobs_candidates:
  metric_configs: [sx_jobs_candidates]
  database: vertica
  table: dma.jobs_employers_crm_events
  column_map:
    user: user_id
  dimensions: [is_asd]
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date 


messages_reply_percentiles:
  metric_configs: [messages_reply_percentiles]
  database: vertica
  table: dma.vo_messages_reply_percentiles
  column_map:
    user: from_user_id
  dimensions: [vertical, logical_category, is_asd, platform, chat_role]
  m42_cartesian_groups:
    - [is_asd, vertical, logical_category]
  participant: {user: from_user_id}
  primary_subject: user
  dtm: event_date  

reviews_stream:
  metric_configs: [reviews_stream]
  database: vertica
  table: dma.reviews_stream
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  
  
qd_lots_create_date:
  metric_configs: [qd_lots_create_date]
  database: vertica
  table: dma.vo_qd_lots
  column_map:
    user: user_id
  dimensions: [platform, region, city, vertical, logical_category, category, subcategory, param1]
  participant: {user: user_id}
  primary_subject: user
  dtm: created_at
  segm: user_id

perf_clickstream_counters:
  metric_configs: [perf_clickstream_counters]
  database: vertica
  table: dma.perf_click_stream_counters
  column_map:
    cookie: cookie_id
    user: user_id
  dimensions: [platform, screen_name]
  participant: {visitor: cookie_id, user: user_id}
  primary_subject: visitor
  dtm: event_date
  
chatbot_chats_delete:
  metric_configs: [chatbot_chats_delete]
  database: vertica
  table: dma.vo_chatbot_chats_delete
  column_map:
    user: user_id
  participant: {user: user_id}
  primary_subject: user
  dtm: event_date
