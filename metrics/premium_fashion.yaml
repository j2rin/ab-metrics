definitions:
    - &marketplace_c {eid: 300}
    - &delivery_c {eid: 2483}
    - &iv {eid: 301}
    - &search {eid: 300}
    - &fav {eid: 3187}
    - &cart {eid: 5942}
    - &chats {eid: 2654}

metric.counter:
  marketplace_c_premium:   {filter: *marketplace_c}
  delivery_c_premium:      {filter: *delivery_c}
  fav_premium:             {filter: *fav}
  cart_premium:            {filter: *cart}
  searches_premium:        {filter: *search}
  chats_premium:           {filter: *chats}
  iv_premium:             {filter: *iv}

metric.uniq:
  u_marketplace_c_premium: {counter: marketplace_c_premium,     key: [cookie]}
  u_delivery_c_premium: {counter: delivery_c_premium,     key: [cookie]}
  u_fav_premium: {counter: fav_premium,     key: [cookie]}
  u_cart_premium: {counter: cart_premium,     key: [cookie]}
  u_searches_premium: {counter: searches_premium,     key: [cookie]}
  u_chats_premium: {counter: chats_premium,     key: [cookie]}

metric.ratio:
  cr_iv_to_delivery_c_premium: {num: delivery_c_premium,  den: iv_premium}
  cr_iv_to_marketplace_c_premium: {num: marketplace_c_premium,  den: iv_premium}
  cr_search_to_iv_premium: { num: iv_premium,  den: searches_premium }
  cr_iv_to_fav_premium: { num: fav_premium,  den: iv_premium }
  cr_iv_to_cart_premium: { num: cart_premium,  den: iv_premium }
