definitions:
  - &changed {prev_location_id.!=: $location_id}

metric.counter:
  cnt_location_suggest_clicks:             {filter: [{FromBlock.=: 1}], obs:[events[, m42: False}
  loc_suggest_clicks_null:                 {filter: [{FromBlock.=: 1}, LocationInput.isnull: false}], obs:[events[, m42: False}
  location_text_inputs:                    {obs:[events[, m42: False}
  loc_text_inputs_length:                  {obs: [LocationInputLength], m42: False}


metric.uniq:
  users_loc_suggest_clicks:                {counter: cnt_location_suggest_clicks,     key: [participant]}
  users_loc_suggest_clicks_null:           {counter: loc_suggest_clicks_null,        key: [participant]}

metric.ratio:
  loc_suggests_per_text_inputs:            {num: cnt_location_suggest_clicks,     den: location_text_inputs}
