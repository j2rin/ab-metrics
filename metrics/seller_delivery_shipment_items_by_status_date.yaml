definitions:
  - &is_marketplace                                       {workflow: 'marketplace'}
  - &is_b2c                                               {workflow: 'delivery-b2c'}
  - &is_canceled                                          {status: ['canceled', 'rejected']}

metric.counter:
  seller_mp_total_items_with_confirmed_shipment:          {filter: [*is_marketplace,   {is_confirmed: True}],         m42: False}
  seller_mp_total_items_with_intransit_shipment:          {filter: [*is_marketplace,   {in_transit: True}],           m42: False}
  seller_mp_total_items_with_received_shipment:           {filter: [*is_marketplace,   {is_received: True}],          m42: False}
  seller_mp_total_items_with_accepted_shipment:           {filter: [*is_marketplace,   {is_accepted: True}],          m42: False}
  seller_mp_total_items_with_canceled_shipment:           {filter: [*is_marketplace,   *is_canceled],                 m42: False}
  seller_b2c_total_items_with_confirmed_shipment:         {filter: [*is_b2c,           {is_confirmed: True}],         m42: False}
  seller_b2c_total_items_with_intransit_shipment:         {filter: [*is_b2c,           {in_transit: True}],           m42: False}
  seller_b2c_total_items_with_received_shipment:          {filter: [*is_b2c,           {is_received: True}],          m42: False}
  seller_b2c_total_items_with_accepted_shipment:          {filter: [*is_b2c,           {is_accepted: True}],          m42: False}
  seller_b2c_total_items_with_canceled_shipment:         {filter: [*is_b2c,           *is_canceled],                 m42: False}


metric.uniq:
  seller_mp_items_with_confirmed_shipment:                {counter: seller_mp_total_items_with_confirmed_shipment,    key: [user]}
  seller_mp_items_with_intransit_shipment:                {counter: seller_mp_total_items_with_intransit_shipment,    key: [user]}
  seller_mp_items_with_received_shipment:                 {counter: seller_mp_total_items_with_received_shipment,     key: [user]}
  seller_mp_items_with_accepted_shipment:                 {counter: seller_mp_total_items_with_accepted_shipment,     key: [user]}
  seller_mp_items_with_canceled_shipment:                 {counter: seller_mp_total_items_with_canceled_shipment,     key: [user]}
  seller_b2c_items_with_confirmed_shipment:               {counter: seller_b2c_total_items_with_confirmed_shipment,   key: [user]}
  seller_b2c_items_with_intransit_shipment:               {counter: seller_b2c_total_items_with_intransit_shipment,   key: [user]}
  seller_b2c_items_with_received_shipment:                {counter: seller_b2c_total_items_with_received_shipment,    key: [user]}
  seller_b2c_items_with_accepted_shipment:                {counter: seller_b2c_total_items_with_accepted_shipment,    key: [user]}
  seller_b2c_items_with_canceled_shipment:                {counter: seller_b2c_total_items_with_canceled_shipment,    key: [user]}



