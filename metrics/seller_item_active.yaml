definitions:
  - &no_coordinates     {$or: [location_distance.isnull: True, location_distance: -1]}
  - &no_address_id      {has_address_id: False}
  - &bad_level          {min_kind_level.!in: [40, 50, 55, 60, 70]}
  - &bad_distance       {location_distance.<=: 0.1}
  - &bad_address        {$or: [*no_coordinates, *no_address_id, *bad_level, *bad_distance]}
  - &is_reputation_high {reputation_class: "high"}
  - &is_reputation_medium {reputation_class: "medium"}
  - &is_reputation_low {reputation_class: "low"}
  - &is_reputation_grey {reputation_class.!in: ["high", "medium", "low"]}

metric.counter:
  active_items_marketplace:                {filter: [is_active: True, is_marketplace: True]}
  active_items_classified:                 {filter: [{is_active: True}, {is_marketplace: False}]}
  active_items_with_msg:                   {filter: [{is_active: True}, {is_message_forbidden: False}]}
  active_items_with_msg_contacts:          {filter: [{is_active: True}, {is_message_forbidden: False}, contacts.!=: 0]}
  active_items_vas:                        {filter: [{is_active: True}, {vas_mask.>: 0}]}
  cnt_active_items:                        {filter: [{is_active: True}]}
  cnt_active_items_cpa:                    {filter: [{is_active: True}, {is_item_cpa: True}]}
  cnt_active_items_cpa_lf:                 {filter: [{is_active: True}, {is_item_cpa: False}, {is_user_cpa: True}]}
  cnt_active_items_cpa_prevalidation:      {filter: [{is_active: True}, {is_item_cpa: True}, {cpaaction_type: 4}]}
  cnt_active_items_cpa_cpc_contact:        {filter: [{is_active: True}, {is_item_cpa: True}, {cpaaction_type: 6}]}
  cnt_active_items_with_vas_cpa:           {filter: [{vas_mask.>: 0}, {is_active: True}, {is_item_cpa: True}]}
  cnt_active_items_with_vas_cpa_lf:        {filter: [{vas_mask.>: 0}, {is_active: True}, {is_item_cpa: False}, {is_user_cpa: True}]}
  cnt_active_items_with_vas_cpa_prevalidation: {filter: [{vas_mask.>: 0}, {is_active: True}, {is_item_cpa: True}, {cpaaction_type: 4}]}
  cnt_active_items_with_vas_cpa_cpc_contact: {filter: [{vas_mask.>: 0}, {is_active: True}, {is_item_cpa: True}, {cpaaction_type: 6}]}
  cnt_active_items_0_photo:                {filter: [{photo_count: 0}]}
  cnt_active_items_more_10_description_word: {filter: [{description_word_count.>=: 10}]}
  cnt_active_items_more_10_photo:          {filter: [{photo_count.>=: 10}]}
  cnt_active_items_more_1_photo:           {filter: [{photo_count.>=: 1}]}
  cnt_active_items_more_3_photo:           {filter: [{photo_count.>=: 3}]}
  cnt_active_items_more_40_description_word: {filter: [{description_word_count.>=: 40}]}
  cnt_active_items_more_5_description_word: {filter: [{description_word_count.>=: 5}]}
  cnt_active_items_more_5_photo:           {filter: [{photo_count.>=: 5}]}
  cnt_active_items_reputation_high:        {filter: [{is_active: True}, *is_reputation_high]}
  cnt_active_items_reputation_medium:      {filter: [{is_active: True}, *is_reputation_medium]}
  cnt_active_items_reputation_low:         {filter: [{is_active: True}, *is_reputation_low]}
  cnt_active_items_reputation_grey:        {filter: [{is_active: True}, *is_reputation_grey]}
  cnt_item_address_length:                 {filter: [{is_active: True}], obs: [address_length]}
  cnt_item_address_length_new:             {filter: [{is_active: True}, {start_date: $event_date}], obs: [address_length]}
  cnt_item_address_length_reactivated:     {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}], obs: [address_length]}
  cnt_new_items_0_photo:                   {filter: [{start_date: $event_date, photo_count: 0}]}
  cnt_new_items_more_10_description_word:  {filter: [{description_word_count.>=: 10, start_date: $event_date}]}
  cnt_new_items_more_10_photo:             {filter: [{start_date: $event_date, photo_count.>=: 10}]}
  cnt_new_items_more_1_photo:              {filter: [{start_date: $event_date, photo_count.>=: 1}]}
  cnt_new_items_more_3_photo:              {filter: [{start_date: $event_date, photo_count.>=: 3}]}
  cnt_new_items_more_40_description_word:  {filter: [{description_word_count.>=: 40, start_date: $event_date}]}
  cnt_new_items_more_5_description_word:   {filter: [{description_word_count.>=: 5, start_date: $event_date}]}
  cnt_new_items_more_5_photo:              {filter: [{start_date: $event_date, photo_count.>=: 5}]}
  items_100m_from_location:                {filter: [{is_active: True}, {location_distance.<=: 0.1}]}
  items_100m_from_location_new:            {filter: [{is_active: True}, {location_distance.<=: 0.1}, {start_date: $event_date}]}
  items_100m_from_location_reactivated:    {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.<=: 0.1}]}
  items_200_plus_km_from_location:         {filter: [{is_active: True}, {location_distance.>: 200}]}
  items_200_plus_km_from_location_new:     {filter: [{is_active: True}, {location_distance.>: 200}, {start_date: $event_date}]}
  items_200_plus_km_from_location_reactivated: {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.>: 200}]}
  items_20m_from_location:                 {filter: [{is_active: True}, {location_distance.<=: 0.02}]}
  items_20m_from_location_new:             {filter: [{is_active: True}, {location_distance.<=: 0.02}, {start_date: $event_date}]}
  items_20m_from_location_reactivated:     {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.<=: 0.02}]}
  items_500m_from_location:                {filter: [{is_active: True}, {location_distance.<=: 0.5}]}
  items_500m_from_location_new:            {filter: [{is_active: True}, {location_distance.<=: 0.5}, {start_date: $event_date}]}
  items_500m_from_location_reactivated:    {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.<=: 0.5}]}
  items_no_address_id:                     {filter: [{has_address_id: False}, {is_active: True}]}
  items_no_address_id_new:                 {filter: [{has_address_id: False}, {is_active: True}, {start_date: $event_date}]}
  items_no_address_id_reactivated:         {filter: [{activations_count.>: 1}, {has_address_id: False}, {is_active: True}, {last_activation_date: $event_date}]}
  items_no_address_string:                 {filter: [{has_address: False}, {is_active: True}]}
  items_no_address_string_new:             {filter: [{has_address: False}, {is_active: True}, {start_date: $event_date}]}
  items_no_address_string_reactivated:     {filter: [{activations_count.>: 1}, {has_address: False}, {is_active: True}, {last_activation_date: $event_date}]}
  items_no_city:                           {filter: [{is_active: True}, {min_kind_level: [120, 130, 140]}]}
  items_no_city_new:                       {filter: [{is_active: True}, {min_kind_level: [120, 130, 140]}, {start_date: $event_date}]}
  items_no_city_reactivated:               {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {min_kind_level: [120, 130, 140]}]}
  items_no_coordinates:                    {filter: [{$or: [[{location_distance.isnull: True}], [{location_distance: -1}]]}, {is_active: True}]}
  items_no_coordinates_new:                {filter: [{$or: [[{location_distance.isnull: True}], [{location_distance: -1}]]}, {is_active: True}, {start_date: $event_date}]}
  items_no_coordinates_reactivated:        {filter: [{$or: [[{location_distance.isnull: True}], [{location_distance: -1}]]}, {activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}]}
  items_with_address_id:                   {filter: [{has_address_id: True}, {is_active: True}]}
  items_with_address_id_new:               {filter: [{has_address_id: True}, {is_active: True}, {start_date: $event_date}]}
  items_with_address_id_reactivated:       {filter: [{activations_count.>: 1}, {has_address_id: True}, {is_active: True}, {last_activation_date: $event_date}]}
  items_with_address_string:               {filter: [{has_address: True}, {is_active: True}]}
  items_with_address_string_new:           {filter: [{has_address: True}, {is_active: True}, {start_date: $event_date}]}
  items_with_address_string_reactivated:   {filter: [{activations_count.>: 1}, {has_address: True}, {is_active: True}, {last_activation_date: $event_date}]}
  items_with_building:                     {filter: [{is_active: True}, {min_kind_level: 40}]}
  items_with_building_new:                 {filter: [{is_active: True}, {min_kind_level: 40}, {start_date: $event_date}]}
  items_with_building_reactivated:         {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {min_kind_level: 40}]}
  items_with_city:                         {filter: [{is_active: True}, {min_kind_level: [100, 110]}]}
  items_with_city_new:                     {filter: [{is_active: True}, {min_kind_level: [100, 110]}, {start_date: $event_date}]}
  items_with_city_reactivated:             {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {min_kind_level: [100, 110]}]}
  items_with_coordinates:                  {filter: [{is_active: True}, {location_distance.>=: -1}]}
  items_with_coordinates_new:              {filter: [{is_active: True}, {location_distance.>=: -1}, {start_date: $event_date}]}
  items_with_coordinates_reactivated:      {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.>=: -1}]}
  items_with_district:                     {filter: [{is_active: True}, {min_kind_level: [60, 70]}]}
  items_with_district_100m_from_location:  {filter: [{is_active: True}, {location_distance.<=: 0.1}, {min_kind_level: [60, 70]}]}
  items_with_district_100m_from_location_new: {filter: [{is_active: True}, {location_distance.<=: 0.1}, {min_kind_level: [60, 70]}, {start_date: $event_date}]}
  items_with_district_100m_from_location_reactivated: {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.<=: 0.1}, {min_kind_level: [60, 70]}]}
  items_with_district_500m_from_location:  {filter: [{is_active: True}, {location_distance.<=: 0.5}, {min_kind_level: [60, 70]}]}
  items_with_district_500m_from_location_new: {filter: [{is_active: True}, {location_distance.<=: 0.5}, {min_kind_level: [60, 70]}, {start_date: $event_date}]}
  items_with_district_500m_from_location_reactivated: {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.<=: 0.5}, {min_kind_level: [60, 70]}]}
  items_with_district_new:                 {filter: [{is_active: True}, {min_kind_level: [60, 70]}, {start_date: $event_date}]}
  items_with_district_reactivated:         {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {min_kind_level: [60, 70]}]}
  items_with_marginal_address:             {filter: [{is_active: True}, {min_kind_level: [10, 20, 30, 80, 90]}]}
  items_with_marginal_address_new:         {filter: [{is_active: True}, {min_kind_level: [10, 20, 30, 80, 90]}, {start_date: $event_date}]}
  items_with_marginal_address_reactivated: {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {min_kind_level: [10, 20, 30, 80, 90]}]}
  items_with_metro:                        {filter: [{is_active: True}, {min_kind_level: 55}]}
  items_with_metro_100m_from_location:     {filter: [{is_active: True}, {location_distance.<=: 0.1}, {min_kind_level: 55}]}
  items_with_metro_100m_from_location_new: {filter: [{is_active: True}, {location_distance.<=: 0.1}, {min_kind_level: 55}, {start_date: $event_date}]}
  items_with_metro_100m_from_location_reactivated: {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.<=: 0.1}, {min_kind_level: 55}]}
  items_with_metro_500m_from_location:     {filter: [{is_active: True}, {location_distance.<=: 0.5}, {min_kind_level: [55]}]}
  items_with_metro_500m_from_location_new: {filter: [{is_active: True}, {location_distance.<=: 0.5}, {min_kind_level: [55]}, {start_date: $event_date}]}
  items_with_metro_500m_from_location_reactivated: {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.<=: 0.5}, {min_kind_level: [55]}]}
  items_with_metro_new:                    {filter: [{is_active: True}, {min_kind_level: 55}, {start_date: $event_date}]}
  items_with_metro_reactivated:            {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {min_kind_level: 55}]}
  items_with_street:                       {filter: [{is_active: True}, {min_kind_level: 50}]}
  items_with_street_100m_from_location:    {filter: [{is_active: True}, {location_distance.<=: 0.1}, {min_kind_level: 50}]}
  items_with_street_100m_from_location_new: {filter: [{is_active: True}, {location_distance.<=: 0.1}, {min_kind_level: 50}, {start_date: $event_date}]}
  items_with_street_100m_from_location_reactivated: {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.<=: 0.1}, {min_kind_level: 50}]}
  items_with_street_500m_from_location:    {filter: [{is_active: True}, {location_distance.<=: 0.5}, {min_kind_level: [50]}]}
  items_with_street_500m_from_location_new: {filter: [{is_active: True}, {location_distance.<=: 0.5}, {min_kind_level: [50]}, {start_date: $event_date}]}
  items_with_street_500m_from_location_reactivated: {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {location_distance.<=: 0.5}, {min_kind_level: [50]}]}
  items_with_street_new:                   {filter: [{is_active: True}, {min_kind_level: 50}, {start_date: $event_date}]}
  items_with_street_reactivated:           {filter: [{activations_count.>: 1}, {is_active: True}, {last_activation_date: $event_date}, {min_kind_level: 50}]}
  seller_item_views:                       {obs: [item_views]}
  seller_iv_video:                         {filter: [{has_short_video: True}], obs: [item_views]}
  seller_item_views_cpa:                   {filter: [{is_item_cpa: True}], obs: [item_views]}
  seller_item_views_cpa_lf:                {filter: [{is_item_cpa: False}, {is_user_cpa: True}], obs: [item_views]}
  seller_item_views_cpa_prevalidation:     {filter: [{is_item_cpa: True}, {cpaaction_type: 4}], obs: [item_views]}
  seller_item_views_cpa_cpc_contact:       {filter: [{is_item_cpa: True}, {cpaaction_type: 6}], obs: [item_views]}
  seller_item_views_vas:                   {filter: [{vas_mask.>: 0}], obs: [item_views]}
  seller_item_views_vas_cpa:               {filter: [{vas_mask.>: 0}, {is_item_cpa: True}], obs: [item_views]}
  seller_item_views_vas_cpa_lf:            {filter: [{vas_mask.>: 0}, {is_item_cpa: False}, {is_user_cpa: True}], obs: [item_views]}
  seller_item_views_vas_cpa_prevalidation: {filter: [{vas_mask.>: 0}, {is_item_cpa: True}, {cpaaction_type: 4}], obs: [item_views]}
  seller_item_views_vas_cpa_cpc_contact:   {filter: [{vas_mask.>: 0}, {is_item_cpa: True}, {cpaaction_type: 6}], obs: [item_views]}
  item_views_with_msg:                     {filter: [{is_active: True}, {is_message_forbidden: False}], obs: [item_views]}
  seller_contacts:                         {obs: [contacts]}
  seller_c_video:                          {filter: [{has_short_video: True}], obs: [contacts]}
  seller_contacts_cpa:                     {filter: [{is_item_cpa: True}], obs: [contacts]}
  seller_contacts_cpa_lf:                  {filter: [{is_item_cpa: False}, {is_user_cpa: True}], obs: [contacts]}
  seller_contacts_cpa_prevalidation:       {filter: [{is_item_cpa: True}, {cpaaction_type: 4}], obs: [contacts]}
  seller_contacts_cpa_cpc_contact:         {filter: [{is_item_cpa: True}, {cpaaction_type: 6}], obs: [contacts]}
  seller_contacts_messenger:               {obs: [contacts_msg]}
  seller_contacts_messenger_cpa:           {filter: [{is_item_cpa: True}], obs: [contacts_msg]}
  seller_contacts_messenger_cpa_lf:        {filter: [{is_item_cpa: False}, {is_user_cpa: True}], obs: [contacts_msg]}
  seller_contacts_messenger_cpa_prevalidation: {filter: [{is_item_cpa: True}, {cpaaction_type: 4}], obs: [contacts_msg]}
  seller_contacts_messenger_cpa_cpc_contact: {filter: [{is_item_cpa: True}, {cpaaction_type: 4}], obs: [contacts_msg]}
  seller_contacts_messenger_start_date:    {filter: [{start_date.>=: $ab_start_date}],obs: [contacts_msg]}
  seller_contacts_messenger_cpa_start_date: {filter: [{start_date.>=: $ab_start_date}, {is_item_cpa: True}], obs: [contacts_msg]}
  seller_contacts_phone_views:             {obs: [contacts_ph]}
  seller_contacts_phone_views_cpa:         {filter: [{is_item_cpa: True}], obs: [contacts_ph]}
  seller_contacts_phone_views_cpa_lf:      {filter: [{is_item_cpa: False}, {is_user_cpa: True}], obs: [contacts_ph]}
  seller_contacts_phone_views_cpa_prevalidation: {filter: [{is_item_cpa: True}, {cpaaction_type: 4}], obs: [contacts_ph]}
  seller_contacts_phone_views_cpa_cpc_contact: {filter: [{is_item_cpa: True}, {cpaaction_type: 6}], obs: [contacts_ph]}
  seller_contacts_phone_views_start_date:  {filter: [{start_date.>=: $ab_start_date}],obs: [contacts_ph]}
  seller_contacts_phone_views_cpa_start_date: {filter: [{start_date.>=: $ab_start_date}, {is_item_cpa: True}], obs: [contacts_ph]}
  seller_contacts_vas:                     {filter: [{vas_mask.>: 0}], obs: [contacts]}
  seller_contacts_vas_cpa:                 {filter: [{vas_mask.>: 0}, {is_item_cpa: True}], obs: [contacts]}
  seller_contacts_vas_cpa_lf:              {filter: [{vas_mask.>: 0}, {is_item_cpa: False}, {is_user_cpa: True}], obs: [contacts]}
  seller_contacts_vas_cpa_prevalidation:   {filter: [{vas_mask.>: 0}, {is_item_cpa: True}, {cpaaction_type: 4}], obs: [contacts]}
  seller_contacts_vas_cpa_cpc_contact:     {filter: [{vas_mask.>: 0}, {is_item_cpa: True}, {cpaaction_type: 6}], obs: [contacts]}
  seller_btc:                              {obs: [favs_added, contacts]}
  seller_btc_video:                        {filter: [{has_short_video: True}], obs: [favs_added, contacts]}
  seller_btc_cpa:                          {filter: [{is_item_cpa: True}], obs: [favs_added, contacts]}
  seller_btc_cpa_lf:                       {filter: [{is_item_cpa: False}, {is_user_cpa: True}], obs: [favs_added, contacts]}
  seller_btc_cpa_prevalidation:            {filter: [{is_item_cpa: True}, {cpaaction_type: 4}], obs: [favs_added, contacts]}
  seller_btc_cpa_cpc_contact:              {filter: [{is_item_cpa: True}, {cpaaction_type: 6}], obs: [favs_added, contacts]}
  seller_btc_vas:                          {filter: [{vas_mask.>: 0}], obs: [favs_added, contacts]}
  seller_btc_vas_cpa:                      {filter: [{vas_mask.>: 0}, {is_item_cpa: True}], obs: [favs_added, contacts]}
  seller_btc_vas_cpa_lf:                   {filter: [{vas_mask.>: 0}, {is_item_cpa: False}, {is_user_cpa: True}], obs: [favs_added, contacts]}
  seller_btc_vas_cpa_prevalidation:        {filter: [{vas_mask.>: 0}, {is_item_cpa: True}, {cpaaction_type: 4}], obs: [favs_added, contacts]}
  seller_btc_vas_cpa_cpc_contact:          {filter: [{vas_mask.>: 0}, {is_item_cpa: True}, {cpaaction_type: 6}], obs: [favs_added, contacts]}
  seller_contacts_start_date:              {filter: [{start_date.>=: $ab_start_date}], obs: [contacts]}
  seller_contacts_cpa_start_date:          {filter: [{start_date.>=: $ab_start_date}, {is_item_cpa: True}], obs: [contacts]}
  seller_favorites_added:                  {obs: [favs_added]}
  seller_favorites_added_start_date:       {filter: [{start_date.>=: $ab_start_date}], obs: [favs_added]}
  seller_favorites_removed:                {obs: [favs_removed]}
  seller_favorites_removed_start_date:     {filter: [{start_date.>=: $ab_start_date}], obs: [favs_removed]}
  items_with_bad_address:                  {filter: [is_active: True, *bad_address]}
  items_with_bad_address_new:              {filter: [is_active: True, start_date: $event_date, *bad_address]}
  items_with_bad_address_reactivated:      {filter: [is_active: True, last_activation_date: $event_date, activations_count.>: 1, *bad_address]}
  items_delivery_available:                        {filter: [is_active: True, is_delivery_available: True]}
  active_items_deliverable_start_date:             {filter: [is_active: True, is_delivery_available: True, start_date.>=: $ab_start_date]}
  items_with_delivery:                             {filter: [is_active: True, is_delivery_active: True]}
  active_items_delivery_on_start_date:             {filter: [is_active: True, is_delivery_active: True, start_date.>=: $ab_start_date]}
  seller_deliverable_iv:                           {filter: [is_delivery_available: True ], obs: [item_views]}
  seller_deliverable_iv_start_date:                {filter: [is_delivery_available: True, start_date.>=: $ab_start_date ], obs: [ item_views]}
  seller_delivery_iv:                              {filter: [is_delivery_active: True ], obs: [ item_views]}
  seller_delivery_iv_start_date:                   {filter: [is_delivery_active: True, start_date.>=: $ab_start_date ], obs: [item_views]}
  seller_delivery_available_iv:                    {filter: [is_delivery_available: True ], obs: [ item_views]}
  seller_contacts_on_delivery_items:               {filter: [is_delivery_active: True], obs: [contacts]}
  seller_contacts_on_delivery_items_start_date:    {filter: [is_delivery_active: True, start_date.>=: $ab_start_date], obs: [contacts]}
  seller_contacts_on_deliverable_items:            {filter: [is_delivery_available: True ], obs: [contacts]}
  seller_contacts_on_deliverable_items_start_date: {filter: [is_delivery_available: True, start_date.>=: $ab_start_date], obs: [contacts]}
  seller_delivery_contacts:                        {obs: [delivery_contacts]}
  seller_delivery_contacts_start_date:             {filter: [{start_date.>=: $ab_start_date}], obs: [delivery_contacts]}
  seller_delivery_clicks:                          {obs: [delivery_clicks]}
  seller_delivery_clicks_start_date:               {filter: [start_date.>=: $ab_start_date], obs: [delivery_clicks]}
  items_with_rating_1:                     {filter: [{is_active: True}, {seller_rating: 1}]}
  items_with_rating_2:                     {filter: [{is_active: True}, {seller_rating: 2}]}
  items_with_rating_3:                     {filter: [{is_active: True}, {seller_rating: 3}]}
  items_with_rating_4:                     {filter: [{is_active: True}, {seller_rating: 4}]}
  items_with_rating_5:                     {filter: [{is_active: True}, {seller_rating: 5}]}
  items_with_rating:                       {filter: [{is_active: True}, {seller_rating.in: [1,2,3,4,5]}]}
  items_with_item_rating_1:                {filter: [{is_active: True}, {item_rating: 1}]}
  items_with_item_rating_2:                {filter: [{is_active: True}, {item_rating: 2}]}
  items_with_item_rating_3:                {filter: [{is_active: True}, {item_rating: 3}]}
  items_with_item_rating_4:                {filter: [{is_active: True}, {item_rating: 4}]}
  items_with_item_rating_5:                {filter: [{is_active: True}, {item_rating: 5}]}
  items_with_item_rating:                  {filter: [{is_active: True}, {item_rating.in: [1,2,3,4,5]}]}
  item_video:                              {filter: [{has_short_video: True}, {is_active: True}]}
  item_video_new:                          {filter: [{has_short_video: True}, {is_active: True}, {start_date: $event_date}]}
  active_items_calendar:                   {filter: [{is_active: True}, {is_item_calendar: True}]}
  active_items_calendar_new:               {filter: [{is_active: True}, {is_item_calendar: True}, {start_date: $event_date}]}
  active_items_price_list:                 {filter: [{is_active: True}, {count_services_price_list.>=: 1}]}
  active_items_price_list_new:             {filter: [{is_active: True}, {count_services_price_list.>=: 1}, {start_date: $event_date}]}
  active_items_price_list_more_2_services:                 {filter: [{is_active: True}, {count_services_price_list.>=: 2}]}
  active_items_price_list_more_2_services_new:             {filter: [{is_active: True}, {count_services_price_list.>=: 2}, {start_date: $event_date}]}
  active_items_price_list_more_3_services:                 {filter: [{is_active: True}, {count_services_price_list.>=: 3}]}
  active_items_price_list_more_3_services_new:             {filter: [{is_active: True}, {count_services_price_list.>=: 3}, {start_date: $event_date}]}
  active_items_price_list_more_5_services:                 {filter: [{is_active: True}, {count_services_price_list.>=: 5}]}
  active_items_price_list_more_5_services_new:             {filter: [{is_active: True}, {count_services_price_list.>=: 5}, {start_date: $event_date}]}

  items_with_delivery_seller_discount:                     {filter: [is_active: True, is_delivery_active: True, subsidy_index.>: 0]}
  active_items_delivery_on_seller_discount_start_date:     {filter: [is_active: True, is_delivery_active: True, start_date.>=: $ab_start_date, subsidy_index.>: 0]}
  seller_delivery_iv_seller_discount:                      {filter: [is_delivery_active: True, subsidy_index.>: 0], obs: [ item_views]}
  seller_delivery_iv_seller_discount_start_date:           {filter: [is_delivery_active: True, start_date.>=: $ab_start_date, subsidy_index.>: 0], obs: [item_views]}
  seller_contacts_on_delivery_items_seller_discount:               {filter: [is_delivery_active: True, subsidy_index.>: 0], obs: [contacts]}
  seller_contacts_on_delivery_items_seller_discount_start_date:    {filter: [is_delivery_active: True, start_date.>=: $ab_start_date, subsidy_index.>: 0], obs: [contacts]}
  seller_delivery_contacts_seller_discount:                        {filter: [subsidy_index.>: 0], obs: [delivery_contacts]}
  seller_delivery_contacts_seller_discount_start_date:             {filter: [start_date.>=: $ab_start_date, subsidy_index.>: 0], obs: [delivery_contacts]}
  seller_delivery_clicks_seller_discount:                          {filter: [subsidy_index.>: 0], obs: [delivery_clicks]}
  seller_delivery_clicks_seller_discount_start_date:               {filter: [subsidy_index.>: 0, start_date.>=: $ab_start_date], obs: [delivery_clicks]}
  cnt_active_items_deduplicated:            {filter: [{is_active: True}, {is_original: True}]}
  cnt_active_items_duplicates_groups:       {filter: [{is_active: True}, {is_original: True}, {duplicates_count.>: 0}]}
  cnt_active_items_have_duplicate:          {filter: [{is_active: True}, {duplicates_count.>: 0}]}
  cnt_active_items_vas_have_duplicate:      {filter: [{is_active: True}, {duplicates_count.>: 0}, {vas_mask.>: 0}]}
  seller_contacts_on_duplicates:            {filter: [duplicates_count.>: 0], obs: [contacts]}
  seller_contacts_on_duplicates_vas:        {filter: [{duplicates_count.>: 0}, {vas_mask.>: 0}], obs: [contacts]}


metric.uniq:
  active_items:                            {counter: cnt_active_items,                key: [item]}
  active_items_dedup:                      {counter: cnt_active_items,                key: [user_microcat_price]}
  active_items_sellergroup_dedup:          {counter: cnt_active_items,                key: [seller_group]}
  active_items_cpa:                        {counter: cnt_active_items_cpa,            key: [item]}
  active_items_cpa_lf:                     {counter: cnt_active_items_cpa_lf,         key: [item]}
  active_items_cpa_prevalidation:          {counter: cnt_active_items_cpa_prevalidation, key: [item]}
  active_items_cpa_cpc_contact:            {counter: cnt_active_items_cpa_cpc_contact, key: [item]}
  active_items_with_vas_cpa:               {counter: cnt_active_items_with_vas_cpa,   key: [item]}
  active_items_with_vas_cpa_lf:            {counter: cnt_active_items_with_vas_cpa_lf, key: [item]}
  active_items_with_vas_cpa_prevalidation: {counter: cnt_active_items_with_vas_cpa_prevalidation, key: [item]}
  active_items_with_vas_cpa_cpc_contact:   {counter: cnt_active_items_with_vas_cpa_cpc_contact, key: [item]}
  active_items_0_photo:                    {counter: cnt_active_items_0_photo,        key: [item]}
  active_items_more_10_description_word:   {counter: cnt_active_items_more_10_description_word, key: [item]}
  active_items_more_10_photo:              {counter: cnt_active_items_more_10_photo,  key: [item]}
  active_items_more_1_photo:               {counter: cnt_active_items_more_1_photo,   key: [item]}
  active_items_more_3_photo:               {counter: cnt_active_items_more_3_photo,   key: [item]}
  active_items_more_40_description_word:   {counter: cnt_active_items_more_40_description_word, key: [item]}
  active_items_more_5_description_word:    {counter: cnt_active_items_more_5_description_word, key: [item]}
  active_items_more_5_photo:               {counter: cnt_active_items_more_5_photo,   key: [item]}
  active_items_reputation_high:            {counter: cnt_active_items_reputation_high,   key: [item]}
  active_items_reputation_medium:          {counter: cnt_active_items_reputation_medium, key: [item]}
  active_items_reputation_low:             {counter: cnt_active_items_reputation_low,    key: [item]}
  active_items_reputation_grey:            {counter: cnt_active_items_reputation_grey,   key: [item]}
  active_listers:                          {counter: cnt_active_items,                    key: [user_id, logical_category_id]}
  active_listers_cpa:                      {counter: cnt_active_items_cpa,            key: [user_id, logical_category_id]}
  active_listers_cpa_lf:                   {counter: cnt_active_items_cpa_lf,         key: [user_id, logical_category_id]}
  active_listers_cpa_prevalidation:        {counter: cnt_active_items_cpa_prevalidation, key: [user_id, logical_category_id]}
  active_listers_cpa_cpc_contact:          {counter: cnt_active_items_cpa_cpc_contact, key: [user_id, logical_category_id]}
  active_listers_with_vas_cpa:             {counter: cnt_active_items_with_vas_cpa,   key: [user_id, logical_category_id]}
  active_listers_with_vas_cpa_prevalidation: {counter: cnt_active_items_with_vas_cpa_prevalidation, key: [user_id, logical_category_id]}
  active_listers_with_vas_cpa_cpc_contact: {counter: cnt_active_items_with_vas_cpa_cpc_contact, key: [user_id, logical_category_id]}
  active_listers_vas:                      {counter: active_items_vas,                key: [user_id, logical_category_id]}
  new_items_0_photo:                       {counter: cnt_new_items_0_photo,           key: [item]}
  new_items_more_10_description_word:      {counter: cnt_new_items_more_10_description_word, key: [item]}
  new_items_more_10_photo:                 {counter: cnt_new_items_more_10_photo,     key: [item]}
  new_items_more_1_photo:                  {counter: cnt_new_items_more_1_photo,      key: [item]}
  new_items_more_3_photo:                  {counter: cnt_new_items_more_3_photo,      key: [item]}
  new_items_more_40_description_word:      {counter: cnt_new_items_more_40_description_word, key: [item]}
  new_items_more_5_description_word:       {counter: cnt_new_items_more_5_description_word, key: [item]}
  new_items_more_5_photo:                  {counter: cnt_new_items_more_5_photo,      key: [item]}
  seller_items_favorites_added:            {counter: seller_favorites_added,          key: [item]}
  seller_items_favorites_removed:          {counter: seller_favorites_removed,        key: [item]}
  seller_items_with_item_views:            {counter: seller_item_views,          key: [item]}
  seller_items_with_iv_video:              {counter: seller_iv_video,          key: [item]}
  seller_items_cpa_with_item_views:        {counter: seller_item_views_cpa,           key: [item]}
  seller_items_cpa_lf_with_item_views:     {counter: seller_item_views_cpa_lf,        key: [item]}
  seller_items_cpa_prevalidation_with_item_views: {counter: seller_item_views_cpa_prevalidation, key: [item]}
  seller_items_cpa_cpc_contact_with_item_views: {counter: seller_item_views_cpa_cpc_contact, key: [item]}
  seller_items_with_btc:                   {counter: seller_btc,                 key: [item]}
  seller_items_with_btc_video:             {counter: seller_btc_video,                key: [item]}
  seller_items_cpa_with_btc:               {counter: seller_btc_cpa,                  key: [item]}
  seller_items_cpa_lf_with_btc:            {counter: seller_btc_cpa_lf,               key: [item]}
  seller_items_cpa_prevalidation_with_btc: {counter: seller_btc_cpa_prevalidation,    key: [item]}
  seller_items_cpa_cpc_contact_with_btc:   {counter: seller_btc_cpa_cpc_contact,      key: [item]}
  sellers_items_with_contacts:             {counter: seller_contacts,                 key: [item]}
  seller_items_with_c_video:               {counter: seller_c_video,                  key: [item]}
  sellers_items_cpa_with_contacts:         {counter: seller_contacts_cpa,             key: [item]}
  sellers_items_cpa_lf_with_contacts:      {counter: seller_contacts_cpa_lf,          key: [item]}
  sellers_items_cpa_prevalidation_with_contacts: {counter: seller_contacts_cpa_prevalidation, key: [item]}
  sellers_items_cpa_cpc_contact_with_contacts: {counter: seller_contacts_cpa_cpc_contact, key: [item]}
  sellers_favorite_added:                  {counter: seller_favorites_added,          key: [user]}
  sellers_favorite_added_start_date:       {counter: seller_favorites_added_start_date, key: [user]}
  sellers_favorite_removed:                {counter: seller_favorites_removed,        key: [user]}
  sellers_favorite_removed_start_date:     {counter: seller_favorites_removed_start_date, key: [user]}
  sellers_with_contacts:                   {counter: seller_contacts,                 key: [user]}
  sellers_with_c_video:                     {counter: seller_c_video,                  key: [user]}
  sellers_cpa_with_contacts:               {counter: seller_contacts_cpa,             key: [user]}
  sellers_cpa_lf_with_contacts:            {counter: seller_contacts_cpa_lf,          key: [user]}
  sellers_with_contacts_start_date:        {counter: seller_contacts_start_date,      key: [user]}
  sellers_cpa_with_contacts_start_date:    {counter: seller_contacts_cpa_start_date,  key: [user]}
  sellers_with_phone_views:                {counter: seller_contacts_phone_views,     key: [user]}
  sellers_cpa_with_phone_views:            {counter: seller_contacts_phone_views_cpa, key: [user]}
  sellers_cpa_lf_with_phone_views:         {counter: seller_contacts_phone_views_cpa_lf, key: [user]}
  sellers_with_messages:                   {counter: seller_contacts_messenger,       key: [user]}
  sellers_cpa_with_messages:               {counter: seller_contacts_messenger_cpa,   key: [user]}
  sellers_cpa_lf_with_messages:            {counter: seller_contacts_messenger_cpa_lf, key: [user]}
  sellers_with_item_views:                 {counter: seller_item_views,                 key: [user]}
  sellers_with_iv_video:                    {counter: seller_iv_video,                 key: [user]}
  sellers_cpa_with_item_views:             {counter: seller_item_views_cpa,           key: [user]}
  sellers_cpa_lf_with_item_views:          {counter: seller_item_views_cpa_lf,        key: [user]}
  sellers_with_btc_vas:                    {counter: seller_btc_vas,                        key: [user]}
  sellers_cpa_with_btc_vas:                {counter: seller_btc_vas_cpa,              key: [user]}
  sellers_cpa_lf_with_btc_vas:             {counter: seller_btc_vas_cpa_lf,           key: [user]}
  sellers_with_contacts_vas:               {counter: seller_contacts_vas,                 key: [user]}
  sellers_cpa_with_contacts_vas:           {counter: seller_contacts_vas_cpa,         key: [user]}
  sellers_cpa_lf_with_contacts_vas:        {counter: seller_contacts_vas_cpa_lf,      key: [user]}
  sellers_with_item_views_vas:             {counter: seller_item_views_vas,                 key: [user]}
  sellers_cpa_with_item_views_vas:         {counter: seller_item_views_vas_cpa,       key: [user]}
  sellers_cpa_lf_with_item_views_vas:      {counter: seller_item_views_vas_cpa_lf,    key: [user]}
  sellers_with_btc:                        {counter: seller_btc,                        key: [user]}
  sellers_with_btc_video:                   {counter: seller_btc_video,                key: [user]}
  sellers_cpa_with_btc:                    {counter: seller_btc_cpa,                  key: [user]}
  sellers_cpa_lf_with_btc:                 {counter: seller_btc_cpa_lf,               key: [user]}
  users_active_item_0_photo:               {counter: cnt_active_items_0_photo,        key: [user]}
  users_active_item_more_10_description_word:       {counter: cnt_active_items_more_10_description_word, key: [user]}
  users_active_item_more_10_photo:                  {counter: cnt_active_items_more_10_photo,  key: [user]}
  users_active_item_more_1_photo:                   {counter: cnt_active_items_more_1_photo,   key: [user]}
  users_active_item_more_3_photo:                   {counter: cnt_active_items_more_3_photo,   key: [user]}
  users_active_item_more_40_description_word:       {counter: cnt_active_items_more_40_description_word, key: [user]}
  users_active_item_more_5_description_word:        {counter: cnt_active_items_more_5_description_word, key: [user]}
  users_active_item_more_5_photo:                   {counter: cnt_active_items_more_5_photo,   key: [user]}
  users_active_items:                               {counter: cnt_active_items,                    key: [user]}
  users_active_items_vas:                           {counter: active_items_vas,                    key: [user]}
  user_active_items_deliverable_start_date:         {counter: active_items_deliverable_start_date, key: [user]}
  user_active_items_delivery_on_start_date:         {counter: active_items_delivery_on_start_date, key: [user]}
  users_cpa_active_items:                           {counter: cnt_active_items_cpa,            key: [user]}
  users_cpa_lf_active_items:                        {counter: cnt_active_items_cpa_lf,         key: [user]}
  users_cpa_active_items_with_vas:                  {counter: cnt_active_items_with_vas_cpa,   key: [user]}
  users_cpa_active_items_with_vas_prevalidation:    {counter: cnt_active_items_with_vas_cpa_prevalidation, key: [user]}
  users_cpa_active_items_with_vas_cpc_contact:      {counter: cnt_active_items_with_vas_cpa, key: [user]}
  users_new_item_0_photo:                           {counter: cnt_new_items_0_photo,           key: [user]}
  users_new_item_more_10_description_word:          {counter: cnt_new_items_more_10_description_word, key: [user]}
  users_new_item_more_10_photo:                     {counter: cnt_new_items_more_10_photo,     key: [user]}
  users_new_item_more_1_photo:                      {counter: cnt_new_items_more_1_photo,      key: [user]}
  users_new_item_more_3_photo:                      {counter: cnt_new_items_more_3_photo,      key: [user]}
  users_new_item_more_40_description_word:          {counter: cnt_new_items_more_40_description_word, key: [user]}
  users_new_item_more_5_description_word:           {counter: cnt_new_items_more_5_description_word, key: [user]}
  users_new_item_more_5_photo:                      {counter: cnt_new_items_more_5_photo,      key: [user]}
  user_active_items_1plus_locations:                {counter: cnt_active_items,   key_seq: [user, city_id], thresholds: [1, 0]}
  user_active_items_2plus_locations:                {counter: cnt_active_items,   key_seq: [user, city_id], thresholds: [2, 0]}
  user_active_items_5plus_locations:                {counter: cnt_active_items,   key_seq: [user, city_id], thresholds: [5, 0]}
  user_active_items_10plus_locations:               {counter: cnt_active_items,   key_seq: [user, city_id], thresholds: [10, 0]}
  user_active_items_1plus_locations_microcat:       {counter: cnt_active_items,                 key_seq: [user, microcat_id, location_id], thresholds: [0, 1, 0]}
  user_active_items_2plus_locations_microcat:       {counter: cnt_active_items,                 key_seq: [user, microcat_id, location_id], thresholds: [0, 2, 0]}
  user_active_items_5plus_locations_microcat:       {counter: cnt_active_items,                 key_seq: [user, microcat_id, location_id], thresholds: [0, 5, 0]}
  user_active_items_10plus_locations_microcat:      {counter: cnt_active_items,                 key_seq: [user, microcat_id, location_id], thresholds: [0, 10, 0]}
  user_active_items_locations:                      {counter: cnt_active_items,                 key: [location_id]}
  seller_items_with_delivery_contacts:              {counter: seller_delivery_contacts,         key: [item]}
  seller_items_with_delivery_clicks:                {counter: seller_delivery_clicks,           key: [item]}
  seller_delivery_items_with_iv:                    {counter: seller_delivery_iv,               key: [item]}
  sellers_with_delivery_item:                       {counter: items_with_delivery,              key: [user]}
  sellers_with_delivery_available_item:             {counter: items_delivery_available,         key: [user]}
  sellers_with_delivery_contact:                    {counter: seller_delivery_contacts,         key: [user]}
  sellers_with_delivery_click:                      {counter: seller_delivery_clicks,           key: [user]}
  delivery_sellers_with_contact:                    {counter: seller_contacts_on_delivery_items, key: [user]}
  delivery_available_sellers_with_contact:          {counter: seller_contacts_on_deliverable_items, key: [user]}
  sellers_with_rating_1_new:                {counter: items_with_rating_1,             key: [user]}
  sellers_with_rating_2_new:                {counter: items_with_rating_2,             key: [user]}
  sellers_with_rating_3_new:                {counter: items_with_rating_3,             key: [user]}
  sellers_with_rating_4_new:                {counter: items_with_rating_4,             key: [user]}
  sellers_with_rating_5_new:                {counter: items_with_rating_5,             key: [user]}
  sellers_with_rating_new:                  {counter: items_with_rating,               key: [user]}
  listers_with_rating_1:                    {counter: items_with_rating_1,             key: [user_id, logical_category_id]}
  listers_with_rating_2:                    {counter: items_with_rating_2,             key: [user_id, logical_category_id]}
  listers_with_rating_3:                    {counter: items_with_rating_3,             key: [user_id, logical_category_id]}
  listers_with_rating_4:                    {counter: items_with_rating_4,             key: [user_id, logical_category_id]}
  listers_with_rating_5:                    {counter: items_with_rating_5,             key: [user_id, logical_category_id]}
  listers_with_rating:                      {counter: items_with_rating,               key: [user_id, logical_category_id]}
  user_item_video:                          {counter: item_video,                      key: [user]}
  user_item_video_new:                      {counter: item_video_new,                  key: [user]}
  sellers_calendar:                         {counter: active_items_calendar,           key: [user]}
  sellers_price_list:                       {counter: active_items_price_list,         key: [user]}
  sellers_price_list_more_2_services:       {counter: active_items_price_list_more_2_services,         key: [user]}
  sellers_price_list_more_3_services:       {counter: active_items_price_list_more_3_services,         key: [user]}
  sellers_price_list_more_5_services:       {counter: active_items_price_list_more_5_services,         key: [user]}
  seller_items_with_delivery_contacts_seller_discount:    {counter: seller_delivery_contacts_seller_discount,         key: [item]}
  seller_items_with_delivery_clicks_seller_discount:      {counter: seller_delivery_clicks_seller_discount,           key: [item]}
  seller_delivery_items_with_iv_seller_discount:          {counter: seller_delivery_iv_seller_discount,               key: [item]}
  sellers_with_delivery_item_seller_discount:             {counter: items_with_delivery_seller_discount,              key: [user]}
  sellers_with_delivery_contact_seller_discount:          {counter: seller_delivery_contacts_seller_discount,         key: [user]}
  sellers_with_delivery_click_seller_discount:            {counter: seller_delivery_clicks_seller_discount,           key: [user]}
  delivery_sellers_with_contact_seller_discount:          {counter: seller_contacts_on_delivery_items_seller_discount, key: [user]}
  active_items_deduplicated:               {counter: cnt_active_items_deduplicated,          key: [item]}
  active_items_duplicates_groups:          {counter: cnt_active_items_duplicates_groups,     key: [item]}
  active_items_have_duplicate:             {counter: cnt_active_items_have_duplicate,        key: [item]}
  active_items_vas_have_duplicate:         {counter: cnt_active_items_vas_have_duplicate,    key: [item]}
  users_active_items_have_duplicate:       {counter: cnt_active_items_have_duplicate,        key: [user]}
  users_active_items_vas_have_duplicate:   {counter: cnt_active_items_vas_have_duplicate,    key: [user]}


metric.ratio:
  avg_item_address_length:                            {num: cnt_item_address_length,                    den: items_with_address_string  }
  avg_item_address_length_new:                        {num: cnt_item_address_length_new,                den: items_with_address_string_new}
  avg_item_address_length_react:                      {num: cnt_item_address_length_reactivated,        den: items_with_address_string_reactivated}
  seller_item_views_per_active_item:                  {num: seller_item_views,                          den: active_items               }
  seller_cpa_item_views_per_active_item:              {num: seller_item_views_cpa,                      den: active_items_cpa           }
  seller_items_with_item_views_per_active_item:       {num: seller_items_with_item_views,               den: active_items               }
  seller_items_cpa_with_item_views_per_active_item:   {num: seller_items_cpa_with_item_views,           den: active_items_cpa           }
  sellers_with_item_views_per_user_active_items:      {num: sellers_with_item_views,                    den: users_active_items         }
  sellers_cpa_with_item_views_per_user_active_items:  {num: sellers_cpa_with_item_views,                den: users_cpa_active_items     }
  seller_btc_per_item_views:                          {num: seller_btc,                                 den: seller_item_views          }
  seller_cpa_btc_per_item_views:                      {num: seller_btc_cpa,                             den: seller_item_views_cpa      }
  seller_btc_per_active_item:                         {num: seller_btc,                                 den: active_items               }
  seller_cpa_btc_per_active_item:                     {num: seller_btc_cpa,                             den: active_items_cpa           }
  seller_contacts_per_item_views:                     {num: seller_contacts,                            den: seller_item_views          }
  seller_cpa_contacts_per_item_views:                 {num: seller_contacts_cpa,                        den: seller_item_views_cpa      }
  seller_contact_per_active_item:                     {num: seller_contacts,                            den: active_items               }
  seller_cpa_contact_per_active_item:                 {num: seller_contacts_cpa,                        den: active_items_cpa           }
  seller_phone_views_per_item_views:                  {num: seller_contacts_phone_views,                den: seller_item_views          }
  seller_cpa_phone_views_per_item_views:              {num: seller_contacts_phone_views_cpa,            den: seller_item_views_cpa      }
  seller_phone_views_per_active_item:                 {num: seller_contacts_phone_views,                den: active_items               }
  seller_cpa_phone_views_per_active_item:             {num: seller_contacts_phone_views_cpa,            den: active_items_cpa           }
  seller_messenger_per_item_views:                    {num: seller_contacts_messenger,                  den: seller_item_views          }
  seller_cpa_messenger_per_item_views:                {num: seller_contacts_messenger_cpa,              den: seller_item_views_cpa      }
  seller_messenger_per_active_item:                   {num: seller_contacts_messenger,                  den: active_items               }
  seller_cpa_messenger_per_active_item:               {num: seller_contacts_messenger_cpa,              den: active_items_cpa           }
  seller_1plus_locations_per_user_active_items:       {num: user_active_items_1plus_locations,          den: users_active_items         }
  seller_1plus_multiloc_per_user_active_items:        {num: user_active_items_1plus_locations_microcat, den: users_active_items         }
  seller_contacts_per_iv_on_deliverable:              {num: seller_contacts_on_deliverable_items,       den: seller_deliverable_iv      }
  seller_contact_per_active_deliverable_item:         {num: seller_contacts_on_deliverable_items,       den: items_delivery_available   }
  items_delivery_ratio:                               {num: items_with_delivery,                        den: items_delivery_available   }
  items_rating_coverage:                              {num: items_with_rating,                          den: active_items,              }
  items_reputation_high_coverage:                     {num: active_items_reputation_high,               den: active_items,              }
  items_reputation_medium_coverage:                   {num: active_items_reputation_medium,             den: active_items,              }
  items_reputation_low_coverage:                      {num: active_items_reputation_low,                den: active_items,              }
  sellers_rating_coverage:                            {num: sellers_with_rating_new,                    den: users_active_items,        }
  items_delivery_ratio_start_date:                    {num: active_items_delivery_on_start_date,        den: active_items_deliverable_start_date}
  sellers_items_delivery_ratio_start_date:            {num: user_active_items_delivery_on_start_date,   den: user_active_items_deliverable_start_date}
  items_delivery_seller_discount_ratio:               {num: items_with_delivery_seller_discount,        den: items_with_delivery        }
  items_delivery_seller_discount_ratio_start_date:    {num: active_items_delivery_on_seller_discount_start_date, den: active_items_delivery_on_start_date}
  active_items_dedup_ratio:                           {num: active_items_dedup,                         den: active_items               }
  active_items_sellergroup_dedup_ratio:               {num: active_items_sellergroup_dedup,             den: active_items               }
  item_video_per_seller_item_video:                   {num: item_video,                                 den: user_item_video            }
  items_price_list_per_active_items:                  {num: active_items_price_list,                    den: active_items               }