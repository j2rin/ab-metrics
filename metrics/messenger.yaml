metric.counter:
  answered_first_messages:                    {filter: [{observation_name: answered_first_messages}],                                       obs: [observation_value]}
  answered_first_messages_by_bot:             {filter: [{observation_name: answered_first_messages_by_bot}],                                obs: [observation_value]}
  answered_first_messages_1hour:              {filter: [{observation_name: answered_first_messages_within_1hour}],                          obs: [observation_value]}
  answered_first_messages_within_1day:        {filter: [{observation_name: answered_first_messages_within_1day}],                           obs: [observation_value]}
  answered_first_messages_within_1hour_7hour: {filter: [{observation_name: answered_first_messages_within_1hour_7hour}],                    obs: [observation_value]}
  first_response_messages:                    {filter: [{observation_name: first_response_messages}],                                       obs: [observation_value]}
  first_response_messages_by_bot:             {filter: [{observation_name: first_response_messages_by_bot}],                                obs: [observation_value]} 
  messenger_active_chats:                     {filter: [{observation_name: messenger_active_chats}],                                        obs: [observation_value]}
  messenger_active_chats_with_bot:            {filter: [{observation_name: messenger_active_chats_with_bot}],                               obs: [observation_value]}
  messenger_auto_messages:                    {filter: [{observation_name: messenger_auto_messages}],                                       obs: [observation_value]}
  messenger_first_messages:                   {filter: [{observation_name: messenger_first_messages}],                                      obs: [observation_value]}
  messenger_geo_messages:                     {filter: [{observation_name: messenger_geo_messages}],                                        obs: [observation_value]}
  messenger_image_messages:                   {filter: [{observation_name: messenger_image_messages}],                                      obs: [observation_value]}
  messenger_item_messages:                    {filter: [{observation_name: messenger_item_messages}],                                       obs: [observation_value]}
  messenger_links_messages:                   {filter: [{observation_name: messenger_links_messages}],                                      obs: [observation_value]}
  messenger_chatbot_messages:                 {filter: [{observation_name: messenger_chatbot_messages}],                                    obs: [observation_value]}
  messenger_spam_blocks:                      {filter: [{observation_name: messenger_spam_blocks}],                                         obs: [observation_value]}
  messenger_text_messages:                    {filter: [{observation_name: messenger_text_messages}],                                       obs: [observation_value]}
  messenger_files_messages:                   {filter: [{observation_name: messenger_files_messages}],                                      obs: [observation_value]}
  messenger_supportchat_files_messages:       {filter: [{observation_name: messenger_supportchat_files_messages}],                          obs: [observation_value]}
  messenger_users_blocked:                    {filter: [{observation_name: messenger_users_blocked}],                                       obs: [observation_value]}
  total_messages:                             {filter: [{observation_name: messenger_total_messeges}],                                      obs: [observation_value]}
  total_messages_chatbot_chat:                {filter: [{observation_name: messenger_total_messeges_inchat_with_bot}],                      obs: [observation_value]}
  total_messages_chatbot_chat_seller:         {filter: [{observation_name: messenger_seller_total_messages_inchat_with_bot}],               obs: [observation_value]}
  total_messages_chatbot_chat_buyer:          {filter: [{observation_name: messenger_buyer_total_messages_inchat_with_bot}],                obs: [observation_value]}


metric.uniq:
  messenger_dau:                           {counter: total_messages,                     key: [participant]}
  users_first_response_messages:           {counter: first_response_messages,            key: [participant]}
  users_first_response_messages_by_bot:    {counter: first_response_messages_by_bot,     key: [participant]}
  messenger_chatbot_dau:                   {counter: total_messages_chatbot_chat,        key: [participant]}
  messenger_chatbot_seller:                {counter: total_messages_chatbot_chat_seller, key: [participant]}
  messenger_chatbot_buyer:                 {counter: total_messages_chatbot_chat_buyer,  key: [participant]}

  


metric.ratio:
  messenger_spam_ratio:                    {num: messenger_spam_blocks,           den: messenger_active_chats}
