metric.counter:
  btc_funnel_all:                          {filter: [{$or: [[{observation_name: answered_proxy_calls}], [{observation_name: booking_created_short_rent}], [{observation_name: call_phone_screen_views_client}], [{observation_name: delivery_order_created}], [{observation_name: favorites_added}], [{observation_name: first_messages}], [{observation_name: missed_proxy_calls}], [{observation_name: phone_views_total}], [{observation_name: realty_development_phone_views}], [{observation_name: total_delivery_click}], [{observation_name: write_button_clicks}]]}], obs: [observation_value]}
  btc_funnel_first:                        {filter: [{$or: [[{observation_name: favorites_added}], [{observation_name: phone_views_total}], [{observation_name: realty_development_phone_views}], [{observation_name: total_delivery_click}], [{observation_name: write_button_clicks}]]}], obs: [observation_value]}
  btc_funnel_second:                       {filter: [{$or: [[{observation_name: answered_proxy_calls}], [{observation_name: booking_created_short_rent}], [{observation_name: call_phone_screen_views_client}], [{observation_name: delivery_order_created}], [{observation_name: first_messages}], [{observation_name: missed_proxy_calls}]]}], obs: [observation_value]}

metric.uniq:
  users_btc_funnel_all:                    {counter: btc_funnel_all,                  key: [participant]}
  users_btc_funnel_first:                  {counter: btc_funnel_first,                key: [participant]}
  users_btc_funnel_second:                 {counter: btc_funnel_second,               key: [participant]}
  sess_btc_funnel_all:                     {counter: btc_funnel_all,                  key: [session]}
  sess_btc_funnel_first:                   {counter: btc_funnel_first,                key: [session]}
  sess_btc_funnel_second:                  {counter: btc_funnel_second,               key: [session]}

