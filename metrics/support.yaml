metric.counter:
# TICKETS
# ---- BASE CHANNELS ---
  support_hc_ticket_platform_created:      {obs: [ticket_platform_created]}
  support_wizard_tickets_created:          {obs: [ticket_wizard_created]}
  support_agent_tickets_created:           {obs: [ticket_agent_created]}
  support_call_tickets_created:            {obs: [ticket_call_created]}
  support_email_tickets_created:           {obs: [ticket_email_created]}
  support_chats_created:                   {obs: [chats_created]}
# --- OTHER CHANNELS ---
  support_callcenter_calls:                {obs: [callcenter_calls]}
  support_webim_chat_created:              {obs: [webim_chats]}
# --- COMBINIG TOTAL ---
  support_email_wizard_tickets_created:    {obs: [ticket_email_created, ticket_wizard_created]}
  support_email_wizard_call_tickets_created: {obs: [ticket_email_created, ticket_wizard_created, ticket_call_created ]}
  support_email_wizard_call_chat_tickets_created: {obs: [ticket_email_created, ticket_wizard_created, ticket_call_created, chats_created]}
  #support_wizard_call_tickets_chat_created: {obs: [ticket_call_created, ticket_wizard_created, webim_chats]}
  #support_wizard_tickets_chat_created:     {obs: [ticket_wizard_created, webim_chats]}
  support_hc_ticket_platform_fraud_templates: {obs: [ticket_platform_fraud_templates]}
  support_hc_ticket_platform_fraud_nodes:  {obs: [ticket_platform_fraud_nodes]}
  support_hc_ticket_platform_fraud_templates_nodes: {obs: [ticket_platform_fraud_templates_nodes]}
  ##
  support_hc_ticket_platform_block:           {obs: [ticket_platform_moder_block]}
  support_hc_ticket_platform_reject:           {obs: [ticket_platform_moder_reject]}
  support_hc_ticket_platform_moder:           {obs: [ticket_platform_moder_block, ticket_platform_moder_reject]}
  ##
  support_call_ticket_block:           {obs: [ticket_call_moder_block_created]}
  support_call_ticket_reject:           {obs: [ticket_call_moder_reject_created]}
  support_call_ticket_moder:           {obs: [ticket_call_moder_block_created, ticket_call_moder_reject_created]}
# --- EXTRA INFO ---
  cnt_tickets_problem_changed:             {obs: [tickets_problem_changed], m42: False}
  cnt_tickets_problem_changed_platform:    {obs: [tickets_problem_changed_platform], m42: False}
# HELPCENTER
  support_helpcenter_phone_requests:       {obs: [helpcenter_phone_requests]}
  #
  support_helpcenter_phone_requests_block:       {obs: [helpcenter_phone_moder_block_requests]}
  support_helpcenter_phone_requests_reject:       {obs: [helpcenter_phone_moder_reject_requests]}
  support_helpcenter_phone_requests_moder:       {obs: [helpcenter_phone_moder_block_requests, helpcenter_phone_moder_reject_requests]}
# --- ARTICLES ---
  support_helpcenter_article_views:        {obs: [article_views]}
  support_hc_article_like:                 {obs: [helpcenter_article_like]}
  support_hc_article_dislike:              {obs: [helpcenter_article_dislike]}
  support_hc_article_marks:                {obs: [helpcenter_article_dislike, helpcenter_article_like]}
# --- WIZARD&HC SESSIONS
  support_helpcenter_wizard_visits:        {obs: [helpcenter_wizard_sessions]}
  support_wizard_visits:                   {obs: [wizard_sessions]}
# --- FREQUENT ARTICLES
  support_helpcenter_article_views_freq:   {obs: [article_views_freq]}
  support_hc_article_like_freq:            {obs: [helpcenter_article_like_freq]}
  support_hc_article_dislike_freq:         {obs: [helpcenter_article_dislike_freq]}
  support_hc_article_marks_freq:           {obs: [helpcenter_article_dislike_freq, helpcenter_article_like_freq]}


metric.uniq:
  support_contacters:                      {counter: support_email_wizard_call_chat_tickets_created,   key: [participant]}

metric.ratio:
  support_hc_article_like_rate:            {num: support_hc_article_like,         den: support_hc_article_marks}
  support_ticket_with_changed_problem_rate: {num: cnt_tickets_problem_changed,     den: support_email_wizard_tickets_created}
  support_ticket_with_changed_problem_rate_platform: {num: cnt_tickets_problem_changed_platform, den: support_hc_ticket_platform_created}
# --- FREQUENT
  support_hc_article_like_freq_rate:       {num: support_hc_article_like_freq,    den: support_hc_article_marks_freq}

#  support_call_banner_esc_written_tickets_created: {obs: [ticket_call_banner_esc_written_created]}
#  support_call_banner_tickets_created:     {obs: [ticket_call_banner_created]}
#  support_call_esc_written_tickets_created: {obs: [ticket_call_esc_written_created]}

#  support_hc_article_dislike_highlighted:  {obs: [helpcenter_article_dislike_freq, helpcenter_article_dislike_popular]}
#  support_hc_article_dislike_popular:      {obs: [helpcenter_article_dislike_popular]}
#  support_hc_article_dislike_regular:      {obs: [helpcenter_article_dislike_regular]}

#  support_hc_article_like_highlighted:     {obs: [helpcenter_article_like_freq, helpcenter_article_like_popular]}
#  support_hc_article_like_popular:         {obs: [helpcenter_article_like_popular]}
#  support_hc_article_like_regular:         {obs: [helpcenter_article_like_regular]}

#  support_hc_article_marks_highlighted:    {obs: [helpcenter_article_dislike_freq, helpcenter_article_dislike_popular, helpcenter_article_like_freq, helpcenter_article_like_popular]}
#  support_hc_article_marks_popular:        {obs: [helpcenter_article_dislike_popular, helpcenter_article_like_popular]}
#  support_hc_article_marks_regular:        {obs: [helpcenter_article_dislike_regular, helpcenter_article_like_regular]}
#  support_hc_ticket_platform_call_banner_created: {obs: [ticket_platform_call_banner_created]}
#  support_hc_ticket_platform_not_call_banner_created: {obs: [ticket_platform_not_call_banner_created]}

#  support_helpcenter_article_views_highlighted: {obs: [article_views_freq, article_views_popular]}
#  support_helpcenter_article_views_popular: {obs: [article_views_popular]}
#  support_helpcenter_article_views_regular: {obs: [article_views_regular]}
#  support_hc_obligatory_field_tickets_created:                  {obs: [ticket_platform_obligatory_field_created]}
#  support_hc_extra_field_tickets_created:                       {obs: [ticket_platform_extra_field_created]}
#  support_hc_extra_field_information_request_tickets_created:   {obs: [ticket_platform_extra_field_information_request_created]}
#  support_hc_information_request_tickets_created:               {obs: [ticket_platform_information_request_created]}
#  support_information_request_tickets_created:                  {obs: [ticket_information_request_created]}

#  support_hc_article_like_highlighted_rate: {num: support_hc_article_like_highlighted, den: support_hc_article_marks_highlighted}
#  support_hc_article_like_popular_rate:    {num: support_hc_article_like_popular, den: support_hc_article_marks_popular}
#  support_hc_article_like_regular_rate:    {num: support_hc_article_like_regular, den: support_hc_article_marks_regular}
#  support_android_tickets_created:         {obs: [ticket_android_created]}
#  support_ios_tickets_created:             {obs: [ticket_ios_created]}
#  support_mav_tickets_created:             {obs: [ticket_mav_created]}
#  support_web_tickets_created:             {obs: [ticket_web_created]}
#  support_callcenter_callers:              {counter: support_callcenter_calls,        key: [participant]}
#  support_email_tickets_creators:          {counter: support_email_tickets_created,   key: [participant]}
#  support_email_wizard_tickets_creators:   {counter: support_email_wizard_tickets_created, key: [participant]}
#  support_helpcenter_article_viewers:      {counter: support_helpcenter_article_views, key: [participant]}
#  support_helpcenter_wizard_visitors:      {counter: support_helpcenter_wizard_visits, key: [participant]}
#  support_wizard_tickets_creators:         {counter: support_wizard_tickets_created,  key: [participant]}
#  support_wizard_visitors:                 {counter: support_wizard_visits,           key: [participant]}
