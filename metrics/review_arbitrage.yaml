metric.counter:
  review_arbitrage:                 {filter: [{observation_name.=: 'arbitrage_created'}],                                     obs: [observation_value]}
  review_arbitrage_on_moderation:   {filter: [{observation_name.=: 'arbitrage_created', is_auto.=: false}],                   obs: [observation_value]}
  review_arbitrage_automoderate:    {filter: [{observation_name.=: 'arbitrage_created', is_auto.=: true}],                    obs: [observation_value]}
  review_arbitrage_reopen:          {filter: [{observation_name.=: 'arbitrage_created', is_both_reopen.=: true}],             obs: [observation_value]}
  review_seller_arbitrage:          {filter: [{observation_name.=: 'arbitrage_created', initiator.=: 'seller'}],              obs: [observation_value]}
  review_buyer_arbitrage:           {filter: [{observation_name.=: 'arbitrage_created', initiator.=: 'buyer'}],               obs: [observation_value]}
  review_arbitrage_with_files:      {filter: [{observation_name.=: 'arbitrage_created', files.=: 'files'}],                   obs: [observation_value]}
  rating_review_arbitrage:          {filter: [{observation_name.=: 'arbitrage_created', use_in_rating.=: true}],              obs: [observation_value]}

  review_arbitrage_declined:        {filter: [{observation_name.=: 'arbitrage_resolved', arbitrageresolution.=: 'Declined'}], obs: [observation_value]}
  review_arbitrage_approved:        {filter: [{observation_name.=: 'arbitrage_resolved', arbitrageresolution.=: 'Approved'}], obs: [observation_value]}
  review_arbitrage_resolved:        {filter: [{observation_name.=: 'arbitrage_resolved'}],                                    obs: [observation_value]}

  review_arbitrage_open_attempts:   {filter: [{observation_name.=: 'review_arbitrage_open_attempts'}],                        obs: [observation_value]}

metric.uniq:
  user_review_arbitrage:                {counter: review_arbitrage,               key: [user]}
  user_review_arbitrage_reopen:         {counter: review_arbitrage_reopen,        key: [user]}
  user_review_seller_arbitrage:         {counter: review_seller_arbitrage,        key: [user]}
  user_review_buyer_arbitrage:          {counter: review_buyer_arbitrage,         key: [user]}
  user_review_arbitrage_with_files:     {counter: review_arbitrage_with_files,    key: [user]}
  user_rating_review_arbitrage:         {counter: rating_review_arbitrage,        key: [user]}
  user_review_arbitrage_open_attempts:  {counter: review_arbitrage_open_attempts, key: [user]}

metric.ratio:
  review_arbitrage_reopen_share:                {num: review_arbitrage_reopen,         den: review_arbitrage}
  review_arbitrage_on_moderation_share:         {num: review_arbitrage_on_moderation,  den: review_arbitrage}
  review_arbitrage_automoderate_share:          {num: review_arbitrage_automoderate,   den: review_arbitrage}
  review_arbitrage_with_files_share:            {num: review_arbitrage_with_files,  den: review_arbitrage}
  
  review_arbitrage_decline_share:               {num: review_arbitrage_declined,       den: review_arbitrage_resolved}
  review_arbitrage_approved_share:              {num: review_arbitrage_approved,       den: review_arbitrage_resolved}
  
  review_arbitrage_success_open_share:          {num: review_arbitrage,  den: review_arbitrage_open_attempts}
