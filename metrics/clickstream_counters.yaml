metric.counter:
  search_query_corrections:                             {filter: [eid: 3019], obs: [event_count]}
  search_corrections_disabled:                          {filter: [eid: 3020], obs: [event_count]}
  misspell_replace:                                     {filter: [eid: 3019, search_correction_method: 'misspell',          search_correction_action: 'replace'], obs: [event_count]}
  misspell_suggest:                                     {filter: [eid: 3019, search_correction_method: 'misspell',          search_correction_action: 'suggest'], obs: [event_count]}
  teleport_replace:                                     {filter: [eid: 3019, search_correction_method: 'teleport',          search_correction_action: 'replace'], obs: [event_count]}
  teleport_suggest:                                     {filter: [eid: 3019, search_correction_method: 'teleport',          search_correction_action: 'suggest'], obs: [event_count]}
  search_redirect_replace:                              {filter: [eid: 3019, search_correction_method: 'search_redirect',   search_correction_action: 'replace'], obs: [event_count]}
  search_redirect_suggest:                              {filter: [eid: 3019, search_correction_method: 'search_redirect',   search_correction_action: 'suggest'], obs: [event_count]}
  geo_redirect_replace:                                 {filter: [eid: 3019, search_correction_method: 'geo_redirect',      search_correction_action: 'replace'], obs: [event_count]}
  geo_redirect_suggest:                                 {filter: [eid: 3019, search_correction_method: 'geo_redirect',      search_correction_action: 'suggest'], obs: [event_count]}
  typo_replace:                                         {filter: [eid: 3019, search_correction_method: 'typo',              search_correction_action: 'replace'], obs: [event_count]}
  typo_suggest:                                         {filter: [eid: 3019, search_correction_method: 'typo',              search_correction_action: 'suggest'], obs: [event_count]}
  keyboard_replace:                                     {filter: [eid: 3019, search_correction_method: 'keyboard',          search_correction_action: 'replace'], obs: [event_count]}
  keyboard_suggest:                                     {filter: [eid: 3019, search_correction_method: 'keyboard',          search_correction_action: 'suggest'], obs: [event_count]}
  wordbreaker_replace:                                  {filter: [eid: 3019, search_correction_method: 'wordbreaker',       search_correction_action: 'replace'], obs: [event_count]}
  wordbreaker_suggest:                                  {filter: [eid: 3019, search_correction_method: 'wordbreaker',       search_correction_action: 'suggest'], obs: [event_count]}
  wordbreaker_digit_replace:                            {filter: [eid: 3019, search_correction_method: 'wordbreaker_digit', search_correction_action: 'replace'], obs: [event_count]}
  wordbreaker_digit_suggest:                            {filter: [eid: 3019, search_correction_method: 'wordbreaker_digit', search_correction_action: 'suggest'], obs: [event_count]}
  misspell_disabled:                                    {filter: [eid: 3020, search_correction_method: 'misspell'],                  obs: [event_count]}
  misspell_suggest_disabled:                            {filter: [eid: 3020, search_correction_method: 'misspell_suggest'],          obs: [event_count]}
  teleport_disabled:                                    {filter: [eid: 3020, search_correction_method: 'teleport'],                  obs: [event_count]}
  teleport_suggest_disabled:                            {filter: [eid: 3020, search_correction_method: 'teleport_suggest'],          obs: [event_count]}
  search_redirect_disabled:                             {filter: [eid: 3020, search_correction_method: 'search_redirect'],           obs: [event_count]}
  search_redirect_suggest_disabled:                     {filter: [eid: 3020, search_correction_method: 'search_redirect_suggest'],   obs: [event_count]}
  geo_redirect_disabled:                                {filter: [eid: 3020, search_correction_method: 'geo_redirect'],              obs: [event_count]}
  geo_redirect_suggest_disabled:                        {filter: [eid: 3020, search_correction_method: 'geo_redirect_suggest'],      obs: [event_count]}
  typo_disabled:                                        {filter: [eid: 3020, search_correction_method: 'typo'],                      obs: [event_count]}
  typo_suggest_disabled:                                {filter: [eid: 3020, search_correction_method: 'typo_suggest'],              obs: [event_count]}
  keyboard_disabled:                                    {filter: [eid: 3020, search_correction_method: 'keyboard'],                  obs: [event_count]}
  keyboard_suggest_disabled:                            {filter: [eid: 3020, search_correction_method: 'keyboard_suggest'],          obs: [event_count]}
  wordbreaker_disabled:                                 {filter: [eid: 3020, search_correction_method: 'wordbreaker'],               obs: [event_count]}
  wordbreaker_suggest_disabled:                         {filter: [eid: 3020, search_correction_method: 'wordbreaker_suggest'],       obs: [event_count]}
  wordbreaker_digit_disabled:                           {filter: [eid: 3020, search_correction_method: 'wordbreaker_digit'],         obs: [event_count]}
  wordbreaker_digit_suggest_disabled:                   {filter: [eid: 3020, search_correction_method: 'wordbreaker_digit_suggest'], obs: [event_count]}
  call_phone_screen_views_client:                       {filter: [eid: 3381, from_block.isnull: true], obs: [event_count]}
  buyer_favouriteseller_add_from_pp:                    {filter: [eid: 2908, source: 'public_profile'], obs: [event_count]}
  buyer_favouriteseller_add_from_fs:                    {filter: [eid: 2908, source: 'favorite_sellers'], obs: [event_count]}
  buyer_favouriteseller_add_from_shop:                  {filter: [eid: 2908, source: 'shop_page'], obs: [event_count]}
  buyer_favouriteseller_add_from_subscribers_list:      {filter: [eid: 2908, source: 'subscribers_list'], obs: [event_count]}
  buyer_favouriteseller_add_from_subscriptions_list:    {filter: [eid: 2908, source: 'subscriptions_list'], obs: [event_count]}
  buyer_favouriteseller_delete_from_pp:                 {filter: [eid: 2909, source: 'public_profile'], obs: [event_count]}
  buyer_favouriteseller_delete_from_fs:                 {filter: [eid: 2909, source: 'favorite_sellers'], obs: [event_count]}
  buyer_favouriteseller_delete_from_shop:               {filter: [eid: 2909, source: 'shop_page'], obs: [event_count]}
  buyer_favouriteseller_delete_from_subscribers_list:   {filter: [eid: 2909, source: 'subscribers_list'], obs: [event_count]}
  buyer_favouriteseller_delete_from_subscriptions_list: {filter: [eid: 2909, source: 'subscriptions_list'], obs: [event_count]}
  public_profile_visit_from_fs:                         {filter: [eid: 2016, source: 'fs'], obs: [event_count]}
  public_profile_visit_from_subscribers_list:           {filter: [eid: 2016, source: 'subscribers_list'], obs: [event_count]}
  public_profile_visit_from_subscriptions_list:         {filter: [eid: 2016, source: 'subscriptions_list'], obs: [event_count]}
  public_profile_visit_from_item:                       {filter: [eid: 2016, source: 'item'], obs: [event_count]}
  public_profile_visit_from_subscribers_messenger:      {filter: [eid: 2016, source: 'messenger'], obs: [event_count]}
  public_profile_visit_from_subscriptions_ratings:      {filter: [eid: 2016, source: 'ratings'], obs: [event_count]}
  public_profile_visit_from_subscriptions_sharing:      {filter: [eid: 2016, source: 'sharing'], obs: [event_count]}
  sqp_layout_replace:                                   {filter: [eid: 3019, search_correction_method: 'sqp_layout', search_correction_action: 'replace'], obs: [event_count]}
  sqp_layout_suggest:                                   {filter: [eid: 3019, search_correction_method: 'sqp_layout', search_correction_action: 'suggest'], obs: [event_count]}
  sqp_wordbreaker_replace:                              {filter: [eid: 3019, search_correction_method: 'sqp_wordbreaker', search_correction_action: 'replace'], obs: [event_count]}
  sqp_wordbreaker_suggest:                              {filter: [eid: 3019, search_correction_method: 'sqp_wordbreaker', search_correction_action: 'suggest'], obs: [event_count]}
  sqp_wordbreaker_digit_replace:                        {filter: [eid: 3019, search_correction_method: 'sqp_wordbreaker_digit', search_correction_action: 'replace'], obs: [event_count]}
  sqp_wordbreaker_digit_suggest:                        {filter: [eid: 3019, search_correction_method: 'sqp_wordbreaker_digit', search_correction_action: 'suggest'], obs: [event_count]}
  sqp_layout_disabled:                                  {filter: [eid: 3020, search_correction_method: 'sqp_layout'], obs: [event_count]}
  sqp_layout_suggest_disabled:                          {filter: [eid: 3020, search_correction_method: 'sqp_layout_suggest'], obs: [event_count]}
  sqp_wordbreaker_disabled:                             {filter: [eid: 3020, search_correction_method: 'sqp_wordbreaker'], obs: [event_count]}
  sqp_wordbreaker_suggest_disabled:                     {filter: [eid: 3020, search_correction_method: 'sqp_wordbreaker_suggest'], obs: [event_count]}
  sqp_wordbreaker_digit_disabled:                       {filter: [eid: 3020, search_correction_method: 'sqp_wordbreaker_digit'], obs: [event_count]}
  sqp_wordbreaker_digit_suggest_disabled:               {filter: [eid: 3020, search_correction_method: 'sqp_wordbreaker_digit_suggest'], obs: [event_count]}
  show_banner_download_app:                             {filter: [eid: 3180, placement: 'splash.banner', page_type: 'main', banner_id: 'child'], obs: [event_count]}
  click_banner_download_app:                            {filter: [eid: 3207, placement: 'splash.banner', page_type: 'main', banner_id: 'child', action_type: 'click-positive'], obs: [event_count]}
  reject_banner_download_app:                           {filter: [eid: 3207, placement: 'splash.banner', page_type: 'main', banner_id: 'child', action_type: 'click-negative'], obs: [event_count]}

  mic_access_granted:                                   {filter: [eid: 4100, app_call_mic_access: true], obs: [event_count]}
  mic_access_denied:                                    {filter: [eid: 4100, app_call_mic_access: false], obs: [event_count]}
  fav_add_from_serp:                                    {filter: [eid: 3187, source: 'snippet'], obs: [event_count]}
  fav_add_from_iv:                                      {filter: [eid: 3187, source: 'item'], obs: [event_count]}
  fav_add_from_fav:                                     {filter: [eid: 3187, source: 'favourites'], obs: [event_count]}
  show_banner_mygarage:                                 {filter: [eid: 3180, banner_id.ilike: '%mygarage%'], obs: [event_count]}
  click_banner_mygarage:                                {filter: [eid: 3207, banner_id.ilike: '%mygarage%'], obs: [event_count]}
  favouriteseller_adds:                                 {filter: [eid: 2908], obs: [event_count]}
  favouriteseller_deletes:                              {filter: [eid: 2909], obs: [event_count]}
  notifications_on_any:                                 {filter: [$or: [{eid: 2558, is_notifications_on: true}, {eid: 2390, notification_value: true}]], obs: [event_count]}
  notifications_off_any:                                {filter: [$or: [{eid: 2558, is_notifications_on: false}, {eid: 2390, notification_value: false}]], obs: [event_count]}
  notifications_on_profile:                             {filter: [eid: 2390, notification_value: true], obs: [event_count]}
  notifications_on_system:                              {filter: [eid: 2558, is_notifications_on: true], obs: [event_count]}
  notifications_off_profile:                            {filter: [eid: 2390, notification_value: false], obs: [event_count]}
  notifications_off_system:                             {filter: [eid: 2558, is_notifications_on: false], obs: [event_count]}
  profile_views_public:                                 {filter: [eid: 2016, profile_type: 'public_profile'], obs: [event_count]}
  profile_views_extended:                               {filter: [eid: 2016, profile_type: 'extended_profile'], obs: [event_count]}
  shop_views:                                           {filter: [eid: 3060], obs: [event_count]}
  profile_views_any:                                    {filter: [eid: 2016], obs: [event_count]}
  profile_shop_views:                                   {filter: [eid.in: [2016, 3060]], obs: [event_count]}
  ext_profile_on:                                       {filter: [eid: 5070, ext_profile_is_using: true], obs: [event_count]}
  ext_profile_off:                                      {filter: [eid: 5070, ext_profile_is_using.isnull: true], obs: [event_count]}


  fps_falls_below_10pct:                                {filter: [eid: 5243, fps_threshold.=: 10], obs: [event_count]}
  fps_falls_below_30pct:                                {filter: [eid: 5243, fps_threshold.=: 30], obs: [event_count]}
  fps_falls_below_50pct:                                {filter: [eid: 5243, fps_threshold.=: 50], obs: [event_count]}
  fps_falls_below_70pct:                                {filter: [eid: 5243, fps_threshold.=: 70], obs: [event_count]}
  fps_falls_below_85pct:                                {filter: [eid: 5243, fps_threshold.=: 85], obs: [event_count]}
  fps_falls_below_90pct:                                {filter: [eid: 5243, fps_threshold.=: 90], obs: [event_count]}
  fps_falls_below_95pct:                                {filter: [eid: 5243, fps_threshold.=: 95], obs: [event_count]}



metric.uniq:
  unq_geo_redirect_replace:          {counter: geo_redirect_replace,            key: [cookie]}
  unq_geo_redirect_suggest:          {counter: geo_redirect_suggest,            key: [cookie]}
  unq_misspell_replace:              {counter: misspell_replace,                key: [cookie]}
  unq_misspell_suggest:              {counter: misspell_suggest,                key: [cookie]}
  unq_s_redirect_replace:            {counter: search_redirect_replace,         key: [cookie]}
  unq_s_redirect_suggest:            {counter: search_redirect_suggest,         key: [cookie]}
  unq_sqp_layout_replace:            {counter: sqp_layout_replace,              key: [cookie]}
  unq_sqp_layout_suggest:            {counter: sqp_layout_suggest,              key: [cookie]}
  unq_sqp_wordbreaker_digit_replace: {counter: sqp_wordbreaker_digit_replace,   key: [cookie]}
  unq_sqp_wordbreaker_digit_suggest: {counter: sqp_wordbreaker_digit_suggest,   key: [cookie]}
  unq_sqp_wordbreaker_replace:       {counter: sqp_wordbreaker_replace,         key: [cookie]}
  unq_sqp_wordbreaker_suggest:       {counter: sqp_wordbreaker_suggest,         key: [cookie]}
  unq_teleport_replace:              {counter: teleport_replace,                key: [cookie]}
  unq_teleport_suggest:              {counter: teleport_suggest,                key: [cookie]}
  unq_typo_replace:                  {counter: typo_replace,                    key: [cookie]}
  unq_typo_suggest:                  {counter: typo_suggest,                    key: [cookie]}
  user_click_banner_download_app:    {counter: click_banner_download_app,       key: [cookie]}
  user_notifications_off_any:        {counter: notifications_off_any,           key: [cookie]}
  user_notifications_on_any:         {counter: notifications_on_any,            key: [cookie]}
  user_notifications_on_profile:     {counter: notifications_on_profile,        key: [cookie]}
  user_notifications_on_system:      {counter: notifications_on_system,         key: [cookie]}
  user_notifications_off_profile:    {counter: notifications_off_profile,       key: [cookie]}
  user_notifications_off_system:     {counter: notifications_off_system,        key: [cookie]}
  user_reject_banner_download_app:   {counter: reject_banner_download_app,      key: [cookie]}
  user_show_banner_download_app:     {counter: show_banner_download_app,        key: [cookie]}
  users_favouriteseller_add:         {counter: favouriteseller_adds,            key: [cookie]}
  users_favouriteseller_delete:      {counter: favouriteseller_deletes,         key: [cookie]}
  users_mic_access_granted:          {counter: mic_access_granted,              key: [cookie]}
  users_mic_access_denied:           {counter: mic_access_denied,               key: [cookie]}
  user_show_banner_mygarage:         {counter: show_banner_mygarage,            key: [cookie]}
  user_click_banner_mygarage:        {counter: click_banner_mygarage,           key: [cookie]}
  profile_viewers_public:            {counter: profile_views_public,            key: [cookie]}
  profile_viewers_extended:          {counter: profile_views_extended,          key: [cookie]}
  shop_viewers:                      {counter: shop_views,                      key: [cookie]}
  profile_viewers_any:               {counter: profile_views_any,               key: [cookie]}
  profile_shop_viewers:              {counter: profile_shop_views,              key: [cookie]}
  ext_profile_on_uniq:               {counter: ext_profile_on,                  key: [cookie]}
  ext_profile_off_uniq:              {counter: ext_profile_off,                 key: [cookie]}

  users_fps_falls_below_10pct:       {counter: fps_falls_below_10pct,                 key: [cookie]}
  users_fps_falls_below_30pct:       {counter: fps_falls_below_30pct,                 key: [cookie]}
  users_fps_falls_below_50pct:       {counter: fps_falls_below_50pct,                 key: [cookie]}
  users_fps_falls_below_70pct:       {counter: fps_falls_below_70pct,                 key: [cookie]}
  users_fps_falls_below_85pct:       {counter: fps_falls_below_85pct,                 key: [cookie]}
  users_fps_falls_below_90pct:       {counter: fps_falls_below_90pct,                 key: [cookie]}
  users_fps_falls_below_95pct:       {counter: fps_falls_below_95pct,                 key: [cookie]}


metric.ratio:
  ctr_click_banner_download_app:             {num: click_banner_download_app,                den: show_banner_download_app}
  ctr_reject_banner_download_app:            {num: reject_banner_download_app,               den: show_banner_download_app}
  geo_redirect_replace_ctr_disable:          {num: geo_redirect_disabled,                    den: geo_redirect_replace}
  geo_redirect_suggest_ctr_disable:          {num: geo_redirect_suggest_disabled,            den: geo_redirect_suggest}
  items_added_per_items_add_started:         {num: items_added,                              den: items_add_started}
  misspell_replace_ctr_disable:              {num: misspell_disabled,                        den: misspell_replace}
  misspell_suggest_ctr_disable:              {num: misspell_suggest_disabled,                den: misspell_suggest}
  search_redirect_replace_ctr_disable:       {num: search_redirect_disabled,                 den: search_redirect_replace}
  search_redirect_suggest_ctr_disable:       {num: search_redirect_suggest_disabled,         den: search_redirect_suggest}
  sqp_layout_replace_ctr_disable:            {num: sqp_layout_disabled,                      den: sqp_layout_replace}
  sqp_layout_suggest_ctr_disable:            {num: sqp_layout_suggest_disabled,              den: sqp_layout_suggest}
  sqp_wordbreaker_digit_replace_ctr_disable: {num: sqp_wordbreaker_digit_disabled,           den: sqp_wordbreaker_digit_replace}
  sqp_wordbreaker_digit_suggest_ctr_disable: {num: sqp_wordbreaker_digit_suggest_disabled,   den: sqp_wordbreaker_digit_suggest}
  sqp_wordbreaker_replace_ctr_disable:       {num: sqp_wordbreaker_disabled,                 den: sqp_wordbreaker_replace}
  sqp_wordbreaker_suggest_ctr_disable:       {num: sqp_wordbreaker_suggest_disabled,         den: sqp_wordbreaker_suggest}
  teleport_replace_ctr_disable:              {num: teleport_disabled,                        den: teleport_replace}
  teleport_suggest_ctr_disable:              {num: teleport_suggest_disabled,                den: teleport_suggest}
  typo_replace_ctr_disable:                  {num: typo_disabled,                            den: typo_replace}
  typo_suggest_ctr_disable:                  {num: typo_suggest_disabled,                    den: typo_suggest}
  ctr_click_banner_mygarage:                 {num: click_banner_mygarage,                    den: show_banner_mygarage, m42: False}
  ext_profile_on_off_ratio:                  {num: ext_profile_on,                           den: ext_profile_off}
