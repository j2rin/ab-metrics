definitions:
    - &eid_u2i      [30204750001, 89266500002]  # [2012, 2309]
    - &eid_i2i      [109161500001]              # [2437]
    - &eid_serp     [10]                        # [300]
    - &is_u2i       {eventtype_id: *eid_u2i}
    - &is_i2i       {eventtype_id: *eid_i2i}
    - &is_serp      {eventtype_id: *eid_serp}

metric.counter:
    cnt_rec_score_u2i:          {filter: [*is_u2i],     obs: [score],       m42: False}
    cnt_rec_score_i2i:          {filter: [*is_i2i],     obs: [score],       m42: False}
    cnt_rec_items_u2i:          {filter: [*is_u2i],     obs: [items_count], m42: False}
    cnt_rec_items_i2i:          {filter: [*is_i2i],     obs: [items_count], m42: False}
    cnt_serp_freshness:         {filter: [*is_serp],    obs: [freshness],   m42: False}
    cnt_serp_items:             {filter: [*is_serp],    obs: [items_count], m42: False}


metric.ratio:
    rec_score_u2i:              {num: cnt_rec_score_u2i,    den: cnt_rec_items_u2i}
    rec_score_i2i:              {num: cnt_rec_score_i2i,    den: cnt_rec_items_i2i}
    serp_freshness:             {num: cnt_serp_freshness,   den: cnt_serp_items}
