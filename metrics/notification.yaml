metric.counter:
  push_no_data:                            {filter: [eid: 2615, notification_channel: 'appPush'], obs: [events_count]}
  browser_push_no_data:                    {filter: [eid: 2615, notification_channel: 'browserPush'], obs: [events_count]}
  sms_no_data:                             {filter: [eid: 2615, notification_channel: 'sms'], obs: [events_count]}
  nc_no_data:                              {filter: [eid: 2615, notification_channel: 'notificationCenter'], obs: [events_count]}
  email_no_data:                           {filter: [eid: 2615, notification_channel: 'email'], obs: [events_count]}
  push_prepared:                           {filter: [eid: 2614, notification_channel: 'appPush'], obs: [events_count]}
  browser_push_prepared:                   {filter: [eid: 2614, notification_channel: 'browserPush'], obs: [events_count]}
  sms_prepared:                            {filter: [eid: 2614, notification_channel: 'sms'], obs: [events_count]}
  nc_prepared:                             {filter: [eid: 2614, notification_channel: 'notificationCenter'], obs: [events_count]}
  email_prepared:                          {filter: [eid: 2614, notification_channel: 'email'], obs: [events_count]}
  push_to_provider:                        {filter: [eid: 2616, notification_channel: 'appPush'], obs: [events_count]}
  browser_push_to_provider:                {filter: [eid: 2616, notification_channel: 'browserPush'], obs: [events_count]}
  sms_to_provider:                         {filter: [eid: 2616, notification_channel: 'sms'], obs: [events_count]}
  nc_to_provider:                          {filter: [eid: 2616, notification_channel: 'notificationCenter'], obs: [events_count]}
  email_to_provider:                       {filter: [eid: 2616, notification_channel: 'email'], obs: [events_count]}
  push_to_receiver:                        {filter: [eid: 2617, notification_channel: 'appPush'], obs: [events_count]}
  browser_push_to_receiver:                {filter: [eid: 2617, notification_channel: 'browserPush'], obs: [events_count]}
  sms_to_receiver:                         {filter: [eid: 2617, notification_channel: 'sms'], obs: [events_count]}
  nc_to_receiver:                          {filter: [eid: 2617, notification_channel: 'notificationCenter'], obs: [events_count]}
  email_to_receiver:                       {filter: [eid: 2617, notification_channel: 'email'], obs: [events_count]}
  push_open:                               {filter: [eid: 2618, notification_channel: 'appPush'], obs: [events_count]}
  browser_push_open:                       {filter: [eid: 2618, notification_channel: 'browserPush'], obs: [events_count]}
  sms_open:                                {filter: [eid: 2618, notification_channel: 'sms'], obs: [events_count]}
  nc_open:                                 {filter: [eid: 2618, notification_channel: 'notificationCenter'], obs: [events_count]}
  email_open:                              {filter: [eid: 2618, notification_channel: 'email'], obs: [events_count]}
  sms_action:                              {filter: [eid: 2619, notification_channel: 'sms'], obs: [events_count]}
  nc_action:                               {filter: [eid: 2619, notification_channel: 'notificationCenter'], obs: [events_count]}
  email_action:                            {filter: [eid: 2619, notification_channel: 'email'], obs: [events_count]}
  push_rec_marketing_no_data:              {obs: [events_count]}
  push_rec_marketing_prepared:             {obs: [events_count]}
  push_rec_marketing_to_provider:          {obs: [events_count]}
  push_rec_marketing_to_receiver:          {obs: [events_count]}
  push_rec_marketing_open:                 {obs: [events_count]}
  push_marketing_to_receiver:              {obs: [events_count]}
  browser_pushes_marketing_to_receiver:    {obs: [events_count]}
  sms_marketing_to_receiver:               {obs: [events_count]}
  nc_marketing_to_receiver:                {obs: [events_count]}
  email_marketing_to_receiver:             {obs: [events_count]}
  push_rec_to_receiver:                    {obs: [events_count]}
  push_crm_to_receiver:                    {obs: [events_count]}
  notification_marketing_prepared:         {obs: [events_count]}
  notification_marketing_no_data:          {obs: [events_count]}
  notification_marketing_to_provider:      {obs: [events_count]}
  notification_marketing_to_receiver:      {obs: [events_count]}
  notification_marketing_open:             {obs: [events_count]}
  notification_marketing_action:           {obs: [events_count]}
  notification_rec_prepared:               {obs: [events_count]}
  notification_rec_no_data:                {obs: [events_count]}
  notification_rec_to_provider:            {obs: [events_count]}
  notification_rec_to_receiver:            {obs: [events_count]}
  notification_rec_open:                   {obs: [events_count]}
  notification_rec_action:                 {obs: [events_count]}
  notification_crm_prepared:               {obs: [events_count]}
  notification_crm_no_data:                {obs: [events_count]}
  notification_crm_to_provider:            {obs: [events_count]}
  notification_crm_to_receiver:            {obs: [events_count]}
  notification_crm_open:                   {obs: [events_count]}
  notification_crm_action:                 {obs: [events_count]}
  notifications_off_profile:               {obs: [events_count]}
  notifications_on_profile:                {obs: [events_count]}
  notifications_off_system:                {obs: [events_count]}
  notifications_on_system:                 {obs: [events_count]}
  notifications_off_any:                   {obs: [events_count]}
  notifications_on_any:                    {obs: [events_count]}
  notifications_off_profile_push:          {obs: [events_count]}
  notifications_on_profile_push:           {obs: [events_count]}
  notifications_off_profile_email:         {obs: [events_count]}
  notifications_on_profile_email:          {obs: [events_count]}
  notifications_off_profile_messenger:     {obs: [events_count]}
  notifications_on_profile_messenger:      {obs: [events_count]}
  notifications_off_profile_push_avito_news:         {obs: [events_count]}
  notifications_off_profile_push_messenger:          {obs: [events_count]}
  notifications_off_profile_push_pro_notifications:  {obs: [events_count]}
  notifications_off_profile_push_discount:           {obs: [events_count]}
  notifications_off_profile_push_poll:               {obs: [events_count]}
  notifications_off_profile_push_fav_sellers:        {obs: [events_count]}
  notifications_off_profile_push_user_reviews:       {obs: [events_count]}
  notifications_off_profile_push_delivery:           {obs: [events_count]}
  notifications_off_profile_push_action:             {obs: [events_count]}
  notifications_off_profile_push_recommendation:     {obs: [events_count]}
  notifications_off_profile_push_tips:               {obs: [events_count]}
  notifications_off_profile_push_messenger_reminder: {obs: [events_count]}
  notifications_off_profile_email_recommendation:    {obs: [events_count]}
  notifications_off_profile_email_tips:              {obs: [events_count]}
  notifications_off_profile_email_delivery:          {obs: [events_count]}
  notifications_off_profile_email_fav_sellers:       {obs: [events_count]}
  notifications_off_profile_email_messenger:         {obs: [events_count]}
  notifications_off_profile_email_user_reviews:      {obs: [events_count]}
  notifications_off_profile_email_action:            {obs: [events_count]}
  notifications_off_profile_email_avito_news:        {obs: [events_count]}
  notifications_off_profile_email_notification:      {obs: [events_count]}
  notifications_off_profile_email_poll:              {obs: [events_count]}
  notifications_off_profile_email_discount:          {obs: [events_count]}
  notifications_off_profile_messenger_recommendation: {obs: [events_count]}
  notifications_off_profile_messenger_limit_calls:    {obs: [events_count]}
  notifications_off_profile_messenger_discount:       {obs: [events_count]}
  notifications_off_profile_messenger_avito_news:     {obs: [events_count]}
  notifications_off_profile_messenger_tips:           {obs: [events_count]}
  notifications_off_profile_messenger_user_reviews:   {obs: [events_count]}
  notifications_off_profile_messenger_deal_confirmation: {obs: [events_count]}
  notifications_off_profile_messenger_action:            {obs: [events_count]}
  notifications_off_profile_messenger_pro_notifications: {obs: [events_count]}

metric.uniq:
  user_push_no_data:                            {counter: push_no_data,                                 key: [participant]}
  user_browser_push_no_data:                    {counter: browser_push_no_data,                         key: [participant]}
  user_sms_no_data:                             {counter: sms_no_data,                                  key: [participant]}
  user_nc_no_data:                              {counter: nc_no_data,                                   key: [participant]}
  user_email_no_data:                           {counter: email_no_data,                                key: [participant]}
  user_push_prepared:                           {counter: push_prepared,                                key: [participant]}
  user_browser_push_prepared:                   {counter: browser_push_prepared,                        key: [participant]}
  user_sms_prepared:                            {counter: sms_prepared,                                 key: [participant]}
  user_nc_prepared:                             {counter: nc_prepared,                                  key: [participant]}
  user_email_prepared:                          {counter: email_prepared,                               key: [participant]}
  user_push_to_provider:                        {counter: push_to_provider,                             key: [participant]}
  user_browser_push_to_provider:                {counter: browser_push_to_provider,                     key: [participant]}
  user_sms_to_provider:                         {counter: sms_to_provider,                              key: [participant]}
  user_nc_to_provider:                          {counter: nc_to_provider,                               key: [participant]}
  user_email_to_provider:                       {counter: email_to_provider,                            key: [participant]}
  user_push_to_receiver:                        {counter: push_to_receiver,                             key: [participant]}
  user_browser_push_to_receiver:                {counter: browser_push_to_receiver,                     key: [participant]}
  user_sms_to_receiver:                         {counter: sms_to_receiver,                              key: [participant]}
  user_nc_to_receiver:                          {counter: nc_to_receiver,                               key: [participant]}
  user_email_to_receiver:                       {counter: email_to_receiver,                            key: [participant]}
  user_push_open:                               {counter: push_open,                                    key: [participant]}
  user_browser_push_open:                       {counter: browser_push_open,                            key: [participant]}
  user_sms_open:                                {counter: sms_open,                                     key: [participant]}
  user_nc_open:                                 {counter: nc_open,                                      key: [participant]}
  user_email_open:                              {counter: email_open,                                   key: [participant]}
  user_sms_action:                              {counter: sms_action,                                   key: [participant]}
  user_nc_action:                               {counter: nc_action,                                    key: [participant]}
  user_email_action:                            {counter: email_action,                                 key: [participant]}
  user_push_no_data_rec_marketing:              {counter: push_rec_marketing_no_data,                   key: [participant]}
  user_push_prepared_rec_marketing:             {counter: push_rec_marketing_prepared,                  key: [participant]}
  user_push_to_provider_rec_marketing:          {counter: push_rec_marketing_to_provider,               key: [participant]}
  user_push_to_receiver_rec_marketing:          {counter: push_rec_marketing_to_receiver,               key: [participant]}
  user_push_open_rec_marketing:                 {counter: push_rec_marketing_open,                      key: [participant]}
  user_push_marketing_to_receiver:              {counter: push_marketing_to_receiver,                   key: [participant]}
  user_browser_pushes_marketing_to_receiver:    {counter: browser_pushes_marketing_to_receiver,         key: [participant]}
  user_sms_marketing_to_receiver:               {counter: sms_marketing_to_receiver,                    key: [participant]}
  user_nc_marketing_to_receiver:                {counter: nc_marketing_to_receiver,                     key: [participant]}
  user_email_marketing_to_receiver:             {counter: email_marketing_to_receiver,                  key: [participant]}
  user_push_rec_to_receiver:                    {counter: push_rec_to_receiver,                         key: [participant]}
  user_push_crm_to_receiver:                    {counter: push_crm_to_receiver,                         key: [participant]}
  user_notification_marketing_prepared:         {counter: notification_marketing_prepared,              key: [participant]}
  user_notification_marketing_no_data:          {counter: notification_marketing_no_data,               key: [participant]}
  user_notification_marketing_to_provider:      {counter: notification_marketing_to_provider,           key: [participant]}
  user_notification_marketing_to_receiver:      {counter: notification_marketing_to_receiver,           key: [participant]}
  user_notification_marketing_open:             {counter: notification_marketing_open,                  key: [participant]}
  user_notification_marketing_action:           {counter: notification_marketing_action,                key: [participant]}
  user_notification_rec_prepared:               {counter: notification_rec_prepared,                    key: [participant]}
  user_notification_rec_no_data:                {counter: notification_rec_no_data,                     key: [participant]}
  user_notification_rec_to_provider:            {counter: notification_rec_to_provider,                 key: [participant]}
  user_notification_rec_to_receiver:            {counter: notification_rec_to_receiver,                 key: [participant]}
  user_notification_rec_open:                   {counter: notification_rec_open,                        key: [participant]}
  user_notification_rec_action:                 {counter: notification_rec_action,                      key: [participant]}
  user_notification_crm_prepared:               {counter: notification_crm_prepared,                    key: [participant]}
  user_notification_crm_no_data:                {counter: notification_crm_no_data,                     key: [participant]}
  user_notification_crm_to_provider:            {counter: notification_crm_to_provider,                 key: [participant]}
  user_notification_crm_to_receiver:            {counter: notification_crm_to_receiver,                 key: [participant]}
  user_notification_crm_open:                   {counter: notification_crm_open,                        key: [participant]}
  user_notification_crm_action:                 {counter: notification_crm_action,                      key: [participant]}
  user_notifications_off_profile:               {counter: notifications_off_profile,                    key: [participant]}
  user_notifications_on_profile:                {counter: notifications_on_profile,                     key: [participant]}
  user_notifications_off_system:                {counter: notifications_off_system,                     key: [participant]}
  user_notifications_on_system:                 {counter: notifications_on_system,                      key: [participant]}
  user_notifications_off_any:                   {counter: notifications_off_any,                        key: [participant]}
  user_notifications_on_any:                    {counter: notifications_on_any,                         key: [participant]}
  user_notifications_off_profile_push:          {counter: notifications_off_profile_push,               key: [participant]}
  user_notifications_on_profile_push:           {counter: notifications_on_profile_push,                key: [participant]}
  user_notifications_off_profile_email:         {counter: notifications_off_profile_email,              key: [participant]}
  user_notifications_on_profile_email:          {counter: notifications_on_profile_email,               key: [participant]}
  user_notifications_off_profile_messenger:     {counter: notifications_off_profile_messenger,          key: [participant]}
  user_notifications_on_profile_messenger:      {counter: notifications_on_profile_messenger,           key: [participant]}

metric.ratio:
  app_pushes_open_per_push_to_receiver:                 {num: push_open,                       den: push_to_receiver}
  browser_push_open_per_browser_push_to_receiver:       {num: browser_push_open,               den: browser_push_to_receiver}
  sms_open_per_sms_to_receiver:                         {num: sms_open,                        den: sms_to_receiver}
  nc_open_per_nc_to_receiver:                           {num: nc_open,                         den: nc_to_receiver}
  email_open_per_email_to_receiver:                     {num: email_open,                      den: email_to_receiver}
  sms_action_per_sms_to_receiver:                       {num: sms_action,                      den: sms_to_receiver}
  nc_action_per_nc_to_receiver:                         {num: nc_action,                       den: nc_to_receiver}
  email_action_per_email_to_receiver:                   {num: email_action,                    den: email_to_receiver}
  email_action_per_email_open:                          {num: email_action,                    den: email_open}
  nc_action_per_nc_open:                                {num: nc_action,                       den: nc_open}
  app_pushes_to_receiver_per_push_prepared:             {num: push_to_receiver,                den: push_prepared}
  browser_push_to_receiver_per_browser_push_prepared:   {num: browser_push_to_receiver,        den: browser_push_prepared}
  sms_to_receiver_per_sms_prepared:                     {num: sms_to_receiver,                 den: sms_prepared}
  nc_to_receiver_per_nc_prepared:                       {num: nc_to_receiver,                  den: nc_prepared}
  email_to_receiver_per_email_prepared:                 {num: email_to_receiver,               den: email_prepared}
  push_open_per_to_receiver_rec_marketing:              {num: push_rec_marketing_open,         den: push_rec_marketing_to_receiver}
  user_app_pushes_to_receiver_per_user_push_prepared:   {num: user_push_to_receiver,           den: user_push_prepared}
  user_browser_push_to_receiver_per_user_browser_push_prepared: {num: user_browser_push_to_receiver,           den: user_browser_push_prepared}
  user_sms_to_receiver_per_user_sms_prepared:               {num: user_sms_to_receiver,            den: user_sms_prepared}
  user_nc_to_receiver_per_user_nc_prepared:                 {num: user_nc_to_receiver,             den: user_nc_prepared}
  user_email_to_receiver_per_user_email_prepared:           {num: user_email_to_receiver,          den: user_email_prepared}
  user_push_open_per_user_push_to_receiver:                 {num: user_push_open,                  den: user_push_to_receiver}
  user_browser_push_open_per_user_browser_push_to_receiver: {num: user_browser_push_open,      den: user_browser_push_to_receiver}
  user_sms_open_per_user_sms_to_receiver:                   {num: user_sms_open,                   den: user_sms_to_receiver}
  user_nc_open_per_user_nc_to_receiver:                     {num: user_nc_open,                    den: user_nc_to_receiver}
  user_email_open_per_user_email_to_receiver:               {num: user_email_open,                 den: user_email_to_receiver}
  user_push_open_per_to_receiver_rec_marketing:             {num: user_push_open_rec_marketing,    den: user_push_to_receiver_rec_marketing}
  push_to_receiver_per_user:                                {num: push_to_receiver,                den: user_push_to_receiver}
  browser_push_to_receiver_per_user:                        {num: browser_push_to_receiver,        den: user_browser_push_to_receiver}
  sms_to_receiver_per_user:                                 {num: sms_to_receiver,                 den: user_sms_to_receiver}
  nc_to_receiver_per_user:                                  {num: nc_to_receiver,                  den: user_nc_to_receiver}
  email_to_receiver_per_user:                               {num: email_to_receiver,               den: user_email_to_receiver}
  push_rec_marketing_to_receiver_per_user:                  {num: push_rec_marketing_to_receiver,  den: user_push_to_receiver_rec_marketing}
  notifications_off_any_per_push_to_receiver:                       {num: notifications_off_any,           den: push_to_receiver}
  notifications_off_profile_per_push_to_receiver:                   {num: notifications_off_profile,       den: push_to_receiver}
  notifications_off_system_per_push_to_receiver:                    {num: notifications_off_system,        den: push_to_receiver}
  user_notifications_off_any_per_user_push_to_receiver:             {num: user_notifications_off_any,      den: user_push_to_receiver}
  user_notifications_off_profile_per_user_push_to_receiver:         {num: user_notifications_off_profile,  den: user_push_to_receiver}
  user_notifications_off_system_per_user_push_to_receiver:          {num: user_notifications_off_system,   den: user_push_to_receiver}
  notifications_off_any_per_notification_crm_to_receiver:           {num: notifications_off_any,           den: notification_crm_to_receiver}
  notifications_off_profile_per_notification_crm_to_receiver:       {num: notifications_off_profile,       den: notification_crm_to_receiver}
  notifications_off_system_per_notification_crm_to_receiver:        {num: notifications_off_system,        den: notification_crm_to_receiver}
  user_notifications_off_any_per_user_crm_to_receiver:              {num: user_notifications_off_any,      den: user_notification_crm_to_receiver}
  user_notifications_off_profile_per_user_crm_to_receiver:          {num: user_notifications_off_profile,  den: user_notification_crm_to_receiver}
  user_notifications_off_system_per_user_crm_to_receiver:           {num: user_notifications_off_system,   den: user_notification_crm_to_receiver}
  user_notifications_off_push_per_user_push_crm_to_receiver:        {num: user_notifications_off_profile_push,   den: user_push_crm_to_receiver}
  user_notifications_off_email_per_user_email_crm_to_receiver:      {num: user_notifications_off_profile_email,  den: user_email_marketing_to_receiver}
