metric.counter:
  push_no_data:                            {obs: [app_pushes_no_data]}
  browser_push_no_data:                    {obs: [browser_pushes_no_data]}
  sms_no_data:                             {obs: [sms_no_data]}
  nc_no_data:                              {obs: [notification_center_no_data]}
  email_no_data:                           {obs: [email_no_data]}
  push_prepared:                           {obs: [app_pushes_prepared]}
  browser_push_prepared:                   {obs: [browser_pushes_prepared]}
  sms_prepared:                            {obs: [sms_prepared]}
  nc_prepared:                             {obs: [notification_center_prepared]}
  email_prepared:                          {obs: [email_prepared]}
  push_to_provider:                        {obs: [app_pushes_to_provider]}
  browser_push_to_provider:                {obs: [browser_pushes_to_provider]}
  sms_to_provider:                         {obs: [sms_to_provider]}
  nc_to_provider:                          {obs: [notification_center_to_provider]}
  email_to_provider:                       {obs: [email_to_provider]}
  push_to_receiver:                        {obs: [app_pushes_to_receiver]}
  browser_push_to_receiver:                {obs: [browser_pushes_to_receiver]}
  sms_to_receiver:                         {obs: [sms_delivered_to_receiver]}
  nc_to_receiver:                          {obs: [notification_center_to_receiver]}
  email_to_receiver:                       {obs: [email_to_receiver]}
  push_open:                               {obs: [app_pushes_open]}
  browser_push_open:                       {obs: [browser_pushes_open]}
  sms_open:                                {obs: [sms_delivered_open]}
  nc_open:                                 {obs: [notification_center_open]}
  email_open:                              {obs: [email_open]}
  sms_action:                              {obs: [sms_delivered_action]}
  nc_action:                               {obs: [notification_center_action]}
  email_action:                            {obs: [email_action]}
  push_sav_search_no_data:                 {obs: [app_pushes_sav_search_no_data]}
  push_sav_search_prepared:                {obs: [app_pushes_sav_search_prepared]}
  push_sav_search_to_provider:             {obs: [app_pushes_sav_search_to_provider]}
  push_sav_search_to_receiver:             {obs: [app_pushes_sav_search_to_receiver]}
  push_sav_search_open:                    {obs: [app_pushes_sav_search_open]}
  push_price_no_data:                      {obs: [app_pushes_price_no_data]}
  push_price_prepared:                     {obs: [app_pushes_price_prepared]}
  push_price_to_provider:                  {obs: [app_pushes_price_to_provider]}
  push_price_to_receiver:                  {obs: [app_pushes_price_to_receiver]}
  push_price_open:                         {obs: [app_pushes_price_open]}
  push_rec_marketing_no_data:              {obs: [app_pushes_rec_marketing_no_data]}
  push_rec_marketing_prepared:             {obs: [app_pushes_rec_marketing_prepared]}
  push_rec_marketing_to_provider:          {obs: [app_pushes_rec_marketing_to_provider]}
  push_rec_marketing_to_receiver:          {obs: [app_pushes_rec_marketing_to_receiver]}
  push_rec_marketing_open:                 {obs: [app_pushes_rec_marketing_open]}
  push_price_all_no_data:                  {obs: [app_pushes_price_all_no_data]}
  push_price_all_prepared:                 {obs: [app_pushes_price_all_prepared]}
  push_price_all_to_provider:              {obs: [app_pushes_price_all_to_provider]}
  push_price_all_to_receiver:              {obs: [app_pushes_price_all_to_receiver]}
  push_price_all_open:                     {obs: [app_pushes_price_all_open]}
  push_marketing_to_receiver:              {obs: [app_pushes_marketing_to_receiver]}
  browser_pushes_marketing_to_receiver:    {obs: [browser_pushes_marketing_to_receiver]}
  sms_marketing_to_receiver:               {obs: [sms_marketing_to_receiver]}
  nc_marketing_to_receiver:                {obs: [notification_center_marketing_to_receiver]}
  email_marketing_to_receiver:             {obs: [email_marketing_to_receiver]}
  push_rec_to_receiver:                    {obs: [app_pushes_rec_to_receiver]}
  push_crm_to_receiver:                    {obs: [app_pushes_crm_to_receiver]}
  notification_marketing_prepared:         {obs: [notification_marketing_prepared]}
  notification_marketing_no_data:          {obs: [notification_marketing_no_data]}
  notification_marketing_to_provider:      {obs: [notification_marketing_to_provider]}
  notification_marketing_to_receiver:      {obs: [notification_marketing_to_receiver]}
  notification_marketing_open:             {obs: [notification_marketing_open]}
  notification_marketing_action:           {obs: [notification_marketing_action]}
  notification_rec_prepared:               {obs: [notification_rec_prepared]}
  notification_rec_no_data:                {obs: [notification_rec_no_data]}
  notification_rec_to_provider:            {obs: [notification_rec_to_provider]}
  notification_rec_to_receiver:            {obs: [notification_rec_to_receiver]}
  notification_rec_open:                   {obs: [notification_rec_open]}
  notification_rec_action:                 {obs: [notification_rec_action]}
  notification_crm_prepared:               {obs: [notification_crm_prepared]}
  notification_crm_no_data:                {obs: [notification_crm_no_data]}
  notification_crm_to_provider:            {obs: [notification_crm_to_provider]}
  notification_crm_to_receiver:            {obs: [notification_crm_to_receiver]}
  notification_crm_open:                   {obs: [notification_crm_open]}
  notification_crm_action:                 {obs: [notification_crm_action]}
  notifications_off_profile:               {obs: [notifications_off_profile]}
  notifications_on_profile:                {obs: [notifications_on_profile]}
  notifications_off_system:                {obs: [notifications_off_system]}
  notifications_on_system:                 {obs: [notifications_on_system]}
  notifications_off_any:                   {obs: [notifications_off_any]}
  notifications_on_any:                    {obs: [notifications_on_any]}
  notifications_off_profile_push:          {obs: [notifications_off_profile_push]}
  notifications_on_profile_push:           {obs: [notifications_on_profile_push]}
  notifications_off_profile_email:         {obs: [notifications_off_profile_email]}
  notifications_on_profile_email:          {obs: [notifications_on_profile_email]}
  notifications_off_profile_messenger:     {obs: [notifications_off_profile_messenger]}
  notifications_on_profile_messenger:      {obs: [notifications_on_profile_messenger]}
  notifications_off_profile_push_avito_news:         {obs: [notifications_off_profile_push_avito_news]}
  notifications_off_profile_push_messenger:          {obs: [notifications_off_profile_push_messenger]}
  notifications_off_profile_push_pro_notifications:  {obs: [notifications_off_profile_push_pro_notifications]}
  notifications_off_profile_push_discount:           {obs: [notifications_off_profile_push_discount]}
  notifications_off_profile_push_poll:               {obs: [notifications_off_profile_push_poll]}
  notifications_off_profile_push_fav_sellers:        {obs: [notifications_off_profile_push_fav_sellers]}
  notifications_off_profile_push_user_reviews:       {obs: [notifications_off_profile_push_user_reviews]}
  notifications_off_profile_push_delivery:           {obs: [notifications_off_profile_push_delivery]}
  notifications_off_profile_push_action:             {obs: [notifications_off_profile_push_action]}
  notifications_off_profile_push_recommendation:     {obs: [notifications_off_profile_push_recommendation]}
  notifications_off_profile_push_tips:               {obs: [notifications_off_profile_push_tips]}
  notifications_off_profile_push_messenger_reminder: {obs: [notifications_off_profile_push_messenger_reminder]}
  notifications_off_profile_email_recommendation:    {obs: [notifications_off_profile_email_recommendation]}
  notifications_off_profile_email_tips:              {obs: [notifications_off_profile_email_tips]}
  notifications_off_profile_email_delivery:          {obs: [notifications_off_profile_email_delivery]}
  notifications_off_profile_email_fav_sellers:       {obs: [notifications_off_profile_email_fav_sellers]}
  notifications_off_profile_email_messenger:         {obs: [notifications_off_profile_email_messenger]}
  notifications_off_profile_email_user_reviews:      {obs: [notifications_off_profile_email_user_reviews]}
  notifications_off_profile_email_action:            {obs: [notifications_off_profile_email_action]}
  notifications_off_profile_email_avito_news:        {obs: [notifications_off_profile_email_avito_news]}
  notifications_off_profile_email_notification:      {obs: [notifications_off_profile_email_notification]}
  notifications_off_profile_email_poll:              {obs: [notifications_off_profile_email_poll]}
  notifications_off_profile_email_discount:          {obs: [notifications_off_profile_email_discount]}
  notifications_off_profile_messenger_recommendation: {obs: [notifications_off_profile_messenger_recommendation]}
  notifications_off_profile_messenger_limit_calls:   {obs: [notifications_off_profile_messenger_limit_calls]}
  notifications_off_profile_messenger_discount:      {obs: [notifications_off_profile_messenger_discount]}
  notifications_off_profile_messenger_avito_news:    {obs: [notifications_off_profile_messenger_avito_news]}
  notifications_off_profile_messenger_tips:          {obs: [notifications_off_profile_messenger_tips]}
  notifications_off_profile_messenger_user_reviews:  {obs: [notifications_off_profile_messenger_user_reviews]}
  notifications_off_profile_messenger_deal_confirmation: {obs: [notifications_off_profile_messenger_deal_confirmation]}
  notifications_off_profile_messenger_action:        {obs: [notifications_off_profile_messenger_action]}
  notifications_off_profile_messenger_pro_notifications: {obs: [notifications_off_profile_messenger_pro_notifications]}

metric.uniq:
  user_push_no_data:                            {counter: push_no_data,                                 key: [participant]}
  user_browser_push_no_data:                    {counter: browser_push_no_data,                         key: [participant]}
  user_sms_no_data:                             {counter: sms_no_data,                                  key: [participant]}
  user_nc_no_data:                              {counter: nc_no_data,                                   key: [participant]}
  user_email_no_data:                           {counter: email_no_data,                                key: [participant]}
  user_push_no_data_sav:                        {counter: push_sav_search_no_data,                      key: [participant]}
  user_push_prepared:                           {counter: push_prepared,                                key: [participant]}
  user_browser_push_prepared:                   {counter: browser_push_prepared,                        key: [participant]}
  user_sms_prepared:                            {counter: sms_prepared,                                 key: [participant]}
  user_nc_prepared:                             {counter: nc_prepared,                                  key: [participant]}
  user_email_prepared:                          {counter: email_prepared,                               key: [participant]}
  user_push_prepared_sav:                       {counter: push_sav_search_prepared,                     key: [participant]}
  user_push_to_provider:                        {counter: push_to_provider,                             key: [participant]}
  user_browser_push_to_provider:                {counter: browser_push_to_provider,                     key: [participant]}
  user_sms_to_provider:                         {counter: sms_to_provider,                              key: [participant]}
  user_nc_to_provider:                          {counter: nc_to_provider,                               key: [participant]}
  user_email_to_provider:                       {counter: email_to_provider,                            key: [participant]}
  user_push_to_provider_sav:                    {counter: push_sav_search_to_provider,                  key: [participant]}
  user_push_to_receiver:                        {counter: push_to_receiver,                             key: [participant]}
  user_browser_push_to_receiver:                {counter: browser_push_to_receiver,                     key: [participant]}
  user_sms_to_receiver:                         {counter: sms_to_receiver,                              key: [participant]}
  user_nc_to_receiver:                          {counter: nc_to_receiver,                               key: [participant]}
  user_email_to_receiver:                       {counter: email_to_receiver,                            key: [participant]}
  user_push_to_receiver_sav:                    {counter: push_sav_search_to_receiver,                  key: [participant]}
  user_push_open:                               {counter: push_open,                                    key: [participant]}
  user_browser_push_open:                       {counter: browser_push_open,                            key: [participant]}
  user_sms_open:                                {counter: sms_open,                                     key: [participant]}
  user_nc_open:                                 {counter: nc_open,                                      key: [participant]}
  user_email_open:                              {counter: email_open,                                   key: [participant]}
  user_push_open_sav:                           {counter: push_sav_search_open,                         key: [participant]}
  user_sms_action:                              {counter: sms_action,                                   key: [participant]}
  user_nc_action:                               {counter: nc_action,                                    key: [participant]}
  user_email_action:                            {counter: email_action,                                 key: [participant]}
  user_push_no_data_price:                      {counter: push_price_no_data,                           key: [participant]}
  user_push_prepared_price:                     {counter: push_price_prepared,                          key: [participant]}
  user_push_to_provider_price:                  {counter: push_price_to_provider,                       key: [participant]}
  user_push_to_receiver_price:                  {counter: push_price_to_receiver,                       key: [participant]}
  user_push_open_price:                         {counter: push_price_open,                              key: [participant]}
  user_push_no_data_rec_marketing:              {counter: push_rec_marketing_no_data,                   key: [participant]}
  user_push_prepared_rec_marketing:             {counter: push_rec_marketing_prepared,                  key: [participant]}
  user_push_to_provider_rec_marketing:          {counter: push_rec_marketing_to_provider,               key: [participant]}
  user_push_to_receiver_rec_marketing:          {counter: push_rec_marketing_to_receiver,               key: [participant]}
  user_push_open_rec_marketing:                 {counter: push_rec_marketing_open,                      key: [participant]}
  user_push_no_data_price_all:                  {counter: push_price_all_no_data,                       key: [participant]}
  user_push_prepared_price_all:                 {counter: push_price_all_prepared,                      key: [participant]}
  user_push_to_provider_price_all:              {counter: push_price_all_to_provider,                   key: [participant]}
  user_push_to_receiver_price_all:              {counter: push_price_all_to_receiver,                   key: [participant]}
  user_push_open_price_all:                     {counter: push_price_all_open,                          key: [participant]}
  user_push_marketing_to_receiver:              {counter: push_marketing_to_receiver,                   key: [participant]}
  user_browser_pushes_marketing_to_receiver:    {counter: browser_pushes_marketing_to_receiver,         key: [participant]}
  user_sms_marketing_to_receiver:               {counter: sms_marketing_to_receiver,                    key: [participant]}
  user_nc_marketing_to_receiver:                {counter: nc_marketing_to_receiver,                     key: [participant]}
  user_email_marketing_to_receiver:             {counter: email_marketing_to_receiver,                  key: [participant]}
  user_push_rec_to_receiver:                    {counter: push_rec_to_receiver,                         key: [participant]}
  user_push_crm_to_receiver:                    {counter: push_crm_to_receiver,                         key: [participant]}
  user_notification_marketing_prepared:         {counter: notification_marketing_prepared,              key: [participant]}
  user_notification_marketing_no_data:          {counter: notification_marketing_no_data,               key: [participant]}
  user_notification_marketing_to_provider:      {counter: notification_marketing_to_provider,           key: [participant]}
  user_notification_marketing_to_receiver:      {counter: notification_marketing_to_receiver,           key: [participant]}
  user_notification_marketing_open:             {counter: notification_marketing_open,                  key: [participant]}
  user_notification_marketing_action:           {counter: notification_marketing_action,                key: [participant]}
  user_notification_rec_prepared:               {counter: notification_rec_prepared,                    key: [participant]}
  user_notification_rec_no_data:                {counter: notification_rec_no_data,                     key: [participant]}
  user_notification_rec_to_provider:            {counter: notification_rec_to_provider,                 key: [participant]}
  user_notification_rec_to_receiver:            {counter: notification_rec_to_receiver,                 key: [participant]}
  user_notification_rec_open:                   {counter: notification_rec_open,                        key: [participant]}
  user_notification_rec_action:                 {counter: notification_rec_action,                      key: [participant]}
  user_notification_crm_prepared:               {counter: notification_crm_prepared,                    key: [participant]}
  user_notification_crm_no_data:                {counter: notification_crm_no_data,                     key: [participant]}
  user_notification_crm_to_provider:            {counter: notification_crm_to_provider,                 key: [participant]}
  user_notification_crm_to_receiver:            {counter: notification_crm_to_receiver,                 key: [participant]}
  user_notification_crm_open:                   {counter: notification_crm_open,                        key: [participant]}
  user_notification_crm_action:                 {counter: notification_crm_action,                      key: [participant]}
  user_notifications_off_profile:               {counter: notifications_off_profile,                    key: [participant]}
  user_notifications_on_profile:                {counter: notifications_on_profile,                     key: [participant]}
  user_notifications_off_system:                {counter: notifications_off_system,                     key: [participant]}
  user_notifications_on_system:                 {counter: notifications_on_system,                      key: [participant]}
  user_notifications_off_any:                   {counter: notifications_off_any,                        key: [participant]}
  user_notifications_on_any:                    {counter: notifications_on_any,                         key: [participant]}
  user_notifications_off_profile_push:          {counter: notifications_off_profile_push,               key: [participant]}
  user_notifications_on_profile_push:           {counter: notifications_on_profile_push,                key: [participant]}
  user_notifications_off_profile_email:         {counter: notifications_off_profile_email,              key: [participant]}
  user_notifications_on_profile_email:          {counter: notifications_on_profile_email,               key: [participant]}
  user_notifications_off_profile_messenger:     {counter: notifications_off_profile_messenger,          key: [participant]}
  user_notifications_on_profile_messenger:      {counter: notifications_on_profile_messenger,           key: [participant]}

metric.ratio:
  app_pushes_open_per_push_to_receiver:                 {num: push_open,                       den: push_to_receiver}
  browser_push_open_per_browser_push_to_receiver:       {num: browser_push_open,               den: browser_push_to_receiver}
  sms_open_per_sms_to_receiver:                         {num: sms_open,                        den: sms_to_receiver}
  nc_open_per_nc_to_receiver:                           {num: nc_open,                         den: nc_to_receiver}
  email_open_per_email_to_receiver:                     {num: email_open,                      den: email_to_receiver}
  sms_action_per_sms_to_receiver:                       {num: sms_action,                      den: sms_to_receiver}
  nc_action_per_nc_to_receiver:                         {num: nc_action,                       den: nc_to_receiver}
  email_action_per_email_to_receiver:                   {num: email_action,                    den: email_to_receiver}
  app_pushes_to_receiver_per_push_prepared:             {num: push_to_receiver,                den: push_prepared}
  browser_push_to_receiver_per_browser_push_prepared:   {num: browser_push_to_receiver,        den: browser_push_prepared}
  sms_to_receiver_per_sms_prepared:                     {num: sms_to_receiver,                 den: sms_prepared}
  nc_to_receiver_per_nc_prepared:                       {num: nc_to_receiver,                  den: nc_prepared}
  email_to_receiver_per_email_prepared:                 {num: email_to_receiver,               den: email_prepared}
  push_open_sav_per_push_to_receiver_sav:               {num: push_sav_search_open,            den: push_sav_search_to_receiver}
  push_open_price_per_push_to_receiver_price:           {num: push_price_open,                 den: push_price_to_receiver}
  push_open_price_all_per_push_to_receiver_price_all:   {num: push_price_all_open,             den: push_price_all_to_receiver}
  push_open_per_to_receiver_rec_marketing:              {num: push_rec_marketing_open,         den: push_rec_marketing_to_receiver}
  user_app_pushes_to_receiver_per_user_push_prepared:   {num: user_push_to_receiver,           den: user_push_prepared}
  user_browser_push_to_receiver_per_user_browser_push_prepared: {num: user_browser_push_to_receiver,           den: user_browser_push_prepared}
  user_sms_to_receiver_per_user_sms_prepared:           {num: user_sms_to_receiver,            den: user_sms_prepared}
  user_nc_to_receiver_per_user_nc_prepared:             {num: user_nc_to_receiver,             den: user_nc_prepared}
  user_email_to_receiver_per_user_email_prepared:       {num: user_email_to_receiver,          den: user_email_prepared}
  user_push_open_per_user_push_to_receiver:             {num: user_push_open,                  den: user_push_to_receiver}
  user_browser_push_open_per_user_browser_push_to_receiver: {num: user_browser_push_open,      den: user_browser_push_to_receiver}
  user_sms_open_per_user_sms_to_receiver:               {num: user_sms_open,                   den: user_sms_to_receiver}
  user_nc_open_per_user_nc_to_receiver:                 {num: user_nc_open,                    den: user_nc_to_receiver}
  user_email_open_per_user_email_to_receiver:           {num: user_email_open,                 den: user_email_to_receiver}
  user_push_open_sav_per_user_push_to_receiver_sav:     {num: user_push_open_sav,              den: user_push_to_receiver_sav}
  user_push_open_price_per_user_push_to_receiver_price: {num: user_push_open_price,            den: user_push_to_receiver_price}
  user_push_open_price_all_per_user_push_to_receiver_price_all: {num: user_push_open_price_all,            den: user_push_to_receiver_price_all}
  user_push_open_per_to_receiver_rec_marketing:         {num: user_push_open_rec_marketing,    den: user_push_to_receiver_rec_marketing}
  push_to_receiver_per_user:                            {num: push_to_receiver,                den: user_push_to_receiver}
  browser_push_to_receiver_per_user:                    {num: browser_push_to_receiver,        den: user_browser_push_to_receiver}
  sms_to_receiver_per_user:                             {num: sms_to_receiver,                 den: user_sms_to_receiver}
  nc_to_receiver_per_user:                              {num: nc_to_receiver,                  den: user_nc_to_receiver}
  email_to_receiver_per_user:                           {num: email_to_receiver,               den: user_email_to_receiver}
  push_rec_marketing_to_receiver_per_user:              {num: push_rec_marketing_to_receiver,  den: user_push_to_receiver_rec_marketing}
  notifications_off_any_per_push_to_receiver:                       {num: notifications_off_any,           den: push_to_receiver}
  notifications_off_profile_per_push_to_receiver:                   {num: notifications_off_profile,       den: push_to_receiver}
  notifications_off_system_per_push_to_receiver:                    {num: notifications_off_system,        den: push_to_receiver}
  user_notifications_off_any_per_user_push_to_receiver:             {num: user_notifications_off_any,      den: user_push_to_receiver}
  user_notifications_off_profile_per_user_push_to_receiver:         {num: user_notifications_off_profile,  den: user_push_to_receiver}
  user_notifications_off_system_per_user_push_to_receiver:          {num: user_notifications_off_system,   den: user_push_to_receiver}
  notifications_off_any_per_notification_crm_to_receiver:               {num: notifications_off_any,           den: notification_crm_to_receiver}
  notifications_off_profile_per_notification_crm_to_receiver:           {num: notifications_off_profile,       den: notification_crm_to_receiver}
  notifications_off_system_per_notification_crm_to_receiver:            {num: notifications_off_system,        den: notification_crm_to_receiver}
  user_notifications_off_any_per_user_notification_crm_to_receiver:     {num: user_notifications_off_any,      den: user_notification_crm_to_receiver}
  user_notifications_off_profile_per_user_notification_crm_to_receiver: {num: user_notifications_off_profile,  den: user_notification_crm_to_receiver}
  user_notifications_off_system_per_user_notification_crm_to_receiver:  {num: user_notifications_off_system,   den: user_notification_crm_to_receiver}
  user_notifications_off_profile_push_per_user_push_crm_to_receiver:          {num: user_notifications_off_profile_push,   den: user_push_crm_to_receiver}
  user_notifications_off_profile_email_per_user_notification_crm_to_receiver: {num: user_notifications_off_profile_email,  den: user_email_marketing_to_receiver}
