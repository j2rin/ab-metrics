metric.counter:
  appcall_bx_incoming:                     {obs: [appcall_bx_incoming_call_log_callback, appcall_bx_incoming_deeplink_call_back, appcall_bx_incoming_messenger_call_back, appcall_bx_incoming_notification_call_back]}
  appcall_bx_incoming_answered:            {obs: [appcall_bx_incoming_call_log_callback_answered, appcall_bx_incoming_deeplink_call_back_answered, appcall_bx_incoming_messenger_call_back_answered, appcall_bx_incoming_notification_call_back_answered]}
  appcall_bx_incoming_success:             {obs: [appcall_bx_incoming_call_log_callback_success, appcall_bx_incoming_deeplink_call_back_success, appcall_bx_incoming_messenger_call_back_success, appcall_bx_incoming_notification_call_back_success]}
  appcall_bx_outgoing:                     {obs: [appcall_bx_outgoing_call_log_callback, appcall_bx_outgoing_deeplink_call_back, appcall_bx_outgoing_item, appcall_bx_outgoing_item_gallery, appcall_bx_outgoing_messenger_call_back, appcall_bx_outgoing_messenger_chat_long_answer, appcall_bx_outgoing_messenger_chat_menu, appcall_bx_outgoing_notification_call_back]}
  appcall_bx_outgoing_answered:            {obs: [appcall_bx_outgoing_call_log_callback_answered, appcall_bx_outgoing_deeplink_call_back_answered, appcall_bx_outgoing_item_answered, appcall_bx_outgoing_item_gallery_answered, appcall_bx_outgoing_messenger_call_back_answered, appcall_bx_outgoing_messenger_chat_long_answer_answered, appcall_bx_outgoing_messenger_chat_menu_answered, appcall_bx_outgoing_notification_call_back_answered]}
  appcall_bx_outgoing_callback:            {obs: [appcall_bx_outgoing_call_log_callback, appcall_bx_outgoing_deeplink_call_back, appcall_bx_outgoing_messenger_call_back, appcall_bx_outgoing_notification_call_back]}
  appcall_bx_outgoing_callback_answered:   {obs: [appcall_bx_outgoing_call_log_callback_answered, appcall_bx_outgoing_deeplink_call_back_answered, appcall_bx_outgoing_messenger_call_back_answered, appcall_bx_outgoing_notification_call_back_answered]}
  appcall_bx_outgoing_callback_success:    {obs: [appcall_bx_outgoing_call_log_callback_success, appcall_bx_outgoing_deeplink_call_back_success, appcall_bx_outgoing_messenger_call_back_success, appcall_bx_outgoing_notification_call_back_success]}
  appcall_bx_outgoing_direct:              {obs: [appcall_bx_outgoing_item, appcall_bx_outgoing_item_gallery, appcall_bx_outgoing_messenger_chat_long_answer, appcall_bx_outgoing_messenger_chat_menu]}
  appcall_bx_outgoing_direct_answered:     {obs: [appcall_bx_outgoing_item_answered, appcall_bx_outgoing_item_gallery_answered, appcall_bx_outgoing_messenger_chat_long_answer_answered, appcall_bx_outgoing_messenger_chat_menu_answered]}
  appcall_bx_outgoing_direct_success:      {obs: [appcall_bx_outgoing_item_gallery_success, appcall_bx_outgoing_item_success, appcall_bx_outgoing_messenger_chat_long_answer_success, appcall_bx_outgoing_messenger_chat_menu_success]}
  appcall_bx_outgoing_success:             {obs: [appcall_bx_outgoing_call_log_callback_success, appcall_bx_outgoing_deeplink_call_back_success, appcall_bx_outgoing_item_gallery_success, appcall_bx_outgoing_item_success, appcall_bx_outgoing_messenger_call_back_success, appcall_bx_outgoing_messenger_chat_long_answer_success, appcall_bx_outgoing_messenger_chat_menu_success, appcall_bx_outgoing_notification_call_back_success]}
  appcall_click_inapp:                     {obs: [appcall_item_click_inapp, appcall_item_gallery_click_inapp, appcall_messenger_chat_long_answer_click_inapp, appcall_messenger_chat_menu_click_inapp]}
  appcall_click_phone:                     {obs: [appcall_item_click_phone, appcall_item_gallery_click_phone, appcall_messenger_chat_long_answer_click_phone, appcall_messenger_chat_menu_click_phone]}
  appcall_show_buttons:                    {obs: [appcall_item_gallery_show_buttons, appcall_item_show_buttons, appcall_messenger_chat_long_answer_show_buttons, appcall_messenger_chat_menu_show_buttons]}
  cnt_appcall:                             {obs: [appcall_bx_outgoing_item, appcall_bx_outgoing_item_gallery]}
  cnt_appcall_anon_bx_appcall_ratio:       {obs: [appcall_bx_incoming_call_log_callback, appcall_bx_incoming_deeplink_call_back, appcall_bx_incoming_messenger_call_back, appcall_bx_incoming_notification_call_back, appcall_bx_outgoing_call_log_callback, appcall_bx_outgoing_deeplink_call_back, appcall_bx_outgoing_item, appcall_bx_outgoing_item_gallery, appcall_bx_outgoing_messenger_call_back, appcall_bx_outgoing_messenger_chat_long_answer, appcall_bx_outgoing_messenger_chat_menu, appcall_bx_outgoing_notification_call_back]}
  cnt_appcall_show_items_ratio:            {obs: [appcall_item_gallery_show_buttons, appcall_item_show_buttons]}
  cnt_appcall_success:                     {obs: [appcall_bx_outgoing_item_gallery_success, appcall_bx_outgoing_item_success]}

metric.uniq:
  unq_item_appcall_show_items_ratio:       {counter: cnt_appcall_show_items_ratio,    key: [item, user]}
  appcall_click_inapp_users:               {counter: appcall_click_inapp,             key: [user]}
  appcall_show_buttons_users:              {counter: appcall_show_buttons,            key: [user]}
  unq_user_appcall:                        {counter: cnt_appcall,                     key: [user]}
  unq_user_appcall_success:                {counter: cnt_appcall_success,             key: [user]}

metric.ratio:
  appcall_bx_outgoing_direct_answered_ratio: {num: appcall_bx_outgoing_direct_answered, den: appcall_bx_outgoing_direct}
  appcall_bx_outgoing_direct_success_answered_ratio: {num: appcall_bx_outgoing_direct_success, den: appcall_bx_outgoing_direct_answered}
  appcall_bx_outgoing_direct_success_ratio: {num: appcall_bx_outgoing_direct_success, den: appcall_bx_outgoing_direct}
  appcall_click_inapp_ratio:               {num: appcall_click_inapp,             den: appcall_show_buttons}
  appcall_click_inapp_users_share:         {num: appcall_click_inapp_users,       den: appcall_show_buttons_users}
  appcall_click_phone_ratio:               {num: appcall_click_phone,             den: appcall_show_buttons}

