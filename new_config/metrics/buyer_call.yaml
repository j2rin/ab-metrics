metric.counter:
  ancalls_any_type:                        {filter: [{observation_name: anon_calls_matched_any_type}], obs: [observation_value]}
  ancalls_any_type_fav:                    {filter: [{observation_name: anon_calls_matched_any_type_fav}], obs: [observation_value]}
  ancalls_any_type_map:                    {filter: [{observation_name: anon_calls_matched_any_type_map}], obs: [observation_value]}
  ancalls_any_type_rec:                    {filter: [{observation_name: anon_calls_matched_any_type_rec}], obs: [observation_value]}
  ancalls_any_type_serp:                   {filter: [{observation_name: anon_calls_matched_any_type_serp}], obs: [observation_value]}
  ancalls_both_types:                      {filter: [{observation_name: anon_calls_matched_both_types}], obs: [observation_value]}
  ancalls_both_types_fav:                  {filter: [{observation_name: anon_calls_matched_both_types_fav}], obs: [observation_value]}
  ancalls_both_types_map:                  {filter: [{observation_name: anon_calls_matched_both_types_map}], obs: [observation_value]}
  ancalls_both_types_rec:                  {filter: [{observation_name: anon_calls_matched_both_types_rec}], obs: [observation_value]}
  ancalls_both_types_serp:                 {filter: [{observation_name: anon_calls_matched_both_types_serp}], obs: [observation_value]}
  ancalls_by_phone:                        {filter: [{observation_name: anon_calls_matched_by_phone}], obs: [observation_value]}
  ancalls_by_phone_fav:                    {filter: [{observation_name: anon_calls_matched_by_phone_fav}], obs: [observation_value]}
  ancalls_by_phone_map:                    {filter: [{observation_name: anon_calls_matched_by_phone_map}], obs: [observation_value]}
  ancalls_by_phone_rec:                    {filter: [{observation_name: anon_calls_matched_by_phone_rec}], obs: [observation_value]}
  ancalls_by_phone_serp:                   {filter: [{observation_name: anon_calls_matched_by_phone_serp}], obs: [observation_value]}
  ancalls_by_phone_uid:                    {filter: [{observation_name: anon_calls_matched_by_phone_and_user}], obs: [observation_value]}
  ancalls_by_phone_uid_fav:                {filter: [{observation_name: anon_calls_matched_by_phone_and_user_fav}], obs: [observation_value]}
  ancalls_by_phone_uid_map:                {filter: [{observation_name: anon_calls_matched_by_phone_and_user_map}], obs: [observation_value]}
  ancalls_by_phone_uid_rec:                {filter: [{observation_name: anon_calls_matched_by_phone_and_user_rec}], obs: [observation_value]}
  ancalls_by_phone_uid_serp:               {filter: [{observation_name: anon_calls_matched_by_phone_and_user_serp}], obs: [observation_value]}
  ancalls_by_time:                         {filter: [{observation_name: anon_calls_matched_by_time}], obs: [observation_value]}
  ancalls_by_time_fav:                     {filter: [{observation_name: anon_calls_matched_by_time_fav}], obs: [observation_value]}
  ancalls_by_time_map:                     {filter: [{observation_name: anon_calls_matched_by_time_map}], obs: [observation_value]}
  ancalls_by_time_rec:                     {filter: [{observation_name: anon_calls_matched_by_time_rec}], obs: [observation_value]}
  ancalls_by_time_serp:                    {filter: [{observation_name: anon_calls_matched_by_time_serp}], obs: [observation_value]}
  answered_proxy_calls:                    {filter: [{observation_name: answered_proxy_calls}], obs: [observation_value]}
  answered_proxy_calls_fav:                {filter: [{observation_name: answered_proxy_calls_fav}], obs: [observation_value]}
  answered_proxy_calls_map:                {filter: [{observation_name: answered_proxy_calls_map}], obs: [observation_value]}
  answered_proxy_calls_rec:                {filter: [{observation_name: answered_proxy_calls_rec}], obs: [observation_value]}
  answered_proxy_calls_serp:               {filter: [{observation_name: answered_proxy_calls_serp}], obs: [observation_value]}
  appcall_anon_bx_outgoing:                {filter: [{$or: [[{observation_name: anon_calls_matched_any_type}], [{observation_name: appcall_bx_outgoing_call_log_callback}], [{observation_name: appcall_bx_outgoing_deeplink_call_back}], [{observation_name: appcall_bx_outgoing_item_gallery}], [{observation_name: appcall_bx_outgoing_item}], [{observation_name: appcall_bx_outgoing_messenger_call_back}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu}], [{observation_name: appcall_bx_outgoing_notification_call_back}]]}], obs: [observation_value]}
  appcall_anon_bx_outgoing_direct:         {filter: [{$or: [[{observation_name: anon_calls_matched_any_type}], [{observation_name: appcall_bx_outgoing_item_gallery}], [{observation_name: appcall_bx_outgoing_item}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu}]]}], obs: [observation_value]}
  appcall_anon_bx_outgoing_direct_answered: {filter: [{$or: [[{observation_name: anon_calls_matched_answered}], [{observation_name: appcall_bx_outgoing_item_answered}], [{observation_name: appcall_bx_outgoing_item_gallery_answered}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer_answered}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu_answered}]]}], obs: [observation_value]}
  appcall_anon_bx_outgoing_direct_success: {filter: [{$or: [[{observation_name: anon_calls_matched_success}], [{observation_name: appcall_bx_outgoing_item_gallery_success}], [{observation_name: appcall_bx_outgoing_item_success}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer_success}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu_success}]]}], obs: [observation_value]}
  appcall_anon_bx_outgoing_itemview:       {filter: [{$or: [[{observation_name: anon_calls_matched_any_type_itemview}], [{observation_name: appcall_bx_outgoing_item_gallery}], [{observation_name: appcall_bx_outgoing_item}]]}], obs: [observation_value]}
  appcall_anon_bx_total_calls:             {filter: [{$or: [[{observation_name: anon_calls_matched_any_type}], [{observation_name: appcall_bx_incoming_call_log_callback}], [{observation_name: appcall_bx_incoming_deeplink_call_back}], [{observation_name: appcall_bx_incoming_messenger_call_back}], [{observation_name: appcall_bx_incoming_notification_call_back}], [{observation_name: appcall_bx_outgoing_call_log_callback}], [{observation_name: appcall_bx_outgoing_deeplink_call_back}], [{observation_name: appcall_bx_outgoing_item_gallery}], [{observation_name: appcall_bx_outgoing_item}], [{observation_name: appcall_bx_outgoing_messenger_call_back}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu}], [{observation_name: appcall_bx_outgoing_notification_call_back}]]}], obs: [observation_value]}
  appcall_bx_incoming:                     {filter: [{$or: [[{observation_name: appcall_bx_incoming_call_log_callback}], [{observation_name: appcall_bx_incoming_deeplink_call_back}], [{observation_name: appcall_bx_incoming_messenger_call_back}], [{observation_name: appcall_bx_incoming_notification_call_back}]]}], obs: [observation_value]}
  appcall_bx_incoming_answered:            {filter: [{$or: [[{observation_name: appcall_bx_incoming_call_log_callback_answered}], [{observation_name: appcall_bx_incoming_deeplink_call_back_answered}], [{observation_name: appcall_bx_incoming_messenger_call_back_answered}], [{observation_name: appcall_bx_incoming_notification_call_back_answered}]]}], obs: [observation_value]}
  appcall_bx_incoming_success:             {filter: [{$or: [[{observation_name: appcall_bx_incoming_call_log_callback_success}], [{observation_name: appcall_bx_incoming_deeplink_call_back_success}], [{observation_name: appcall_bx_incoming_messenger_call_back_success}], [{observation_name: appcall_bx_incoming_notification_call_back_success}]]}], obs: [observation_value]}
  appcall_bx_outgoing:                     {filter: [{$or: [[{observation_name: appcall_bx_outgoing_call_log_callback}], [{observation_name: appcall_bx_outgoing_deeplink_call_back}], [{observation_name: appcall_bx_outgoing_item_gallery}], [{observation_name: appcall_bx_outgoing_item}], [{observation_name: appcall_bx_outgoing_messenger_call_back}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu}], [{observation_name: appcall_bx_outgoing_notification_call_back}]]}], obs: [observation_value]}
  appcall_bx_outgoing_answered:            {filter: [{$or: [[{observation_name: appcall_bx_outgoing_call_log_callback_answered}], [{observation_name: appcall_bx_outgoing_deeplink_call_back_answered}], [{observation_name: appcall_bx_outgoing_item_answered}], [{observation_name: appcall_bx_outgoing_item_gallery_answered}], [{observation_name: appcall_bx_outgoing_messenger_call_back_answered}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer_answered}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu_answered}], [{observation_name: appcall_bx_outgoing_notification_call_back_answered}]]}], obs: [observation_value]}
  appcall_bx_outgoing_callback:            {filter: [{$or: [[{observation_name: appcall_bx_outgoing_call_log_callback}], [{observation_name: appcall_bx_outgoing_deeplink_call_back}], [{observation_name: appcall_bx_outgoing_messenger_call_back}], [{observation_name: appcall_bx_outgoing_notification_call_back}]]}], obs: [observation_value]}
  appcall_bx_outgoing_callback_answered:   {filter: [{$or: [[{observation_name: appcall_bx_outgoing_call_log_callback_answered}], [{observation_name: appcall_bx_outgoing_deeplink_call_back_answered}], [{observation_name: appcall_bx_outgoing_messenger_call_back_answered}], [{observation_name: appcall_bx_outgoing_notification_call_back_answered}]]}], obs: [observation_value]}
  appcall_bx_outgoing_callback_success:    {filter: [{$or: [[{observation_name: appcall_bx_outgoing_call_log_callback_success}], [{observation_name: appcall_bx_outgoing_deeplink_call_back_success}], [{observation_name: appcall_bx_outgoing_messenger_call_back_success}], [{observation_name: appcall_bx_outgoing_notification_call_back_success}]]}], obs: [observation_value]}
  appcall_bx_outgoing_direct:              {filter: [{$or: [[{observation_name: appcall_bx_outgoing_item_gallery}], [{observation_name: appcall_bx_outgoing_item}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu}]]}], obs: [observation_value]}
  appcall_bx_outgoing_direct_answered:     {filter: [{$or: [[{observation_name: appcall_bx_outgoing_item_answered}], [{observation_name: appcall_bx_outgoing_item_gallery_answered}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer_answered}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu_answered}]]}], obs: [observation_value]}
  appcall_bx_outgoing_direct_success:      {filter: [{$or: [[{observation_name: appcall_bx_outgoing_item_gallery_success}], [{observation_name: appcall_bx_outgoing_item_success}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer_success}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu_success}]]}], obs: [observation_value]}
  appcall_bx_outgoing_success:             {filter: [{$or: [[{observation_name: appcall_bx_outgoing_call_log_callback_success}], [{observation_name: appcall_bx_outgoing_deeplink_call_back_success}], [{observation_name: appcall_bx_outgoing_item_gallery_success}], [{observation_name: appcall_bx_outgoing_item_success}], [{observation_name: appcall_bx_outgoing_messenger_call_back_success}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer_success}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu_success}], [{observation_name: appcall_bx_outgoing_notification_call_back_success}]]}], obs: [observation_value]}
  appcall_click_inapp:                     {filter: [{$or: [[{observation_name: appcall_item_click_inapp}], [{observation_name: appcall_item_gallery_click_inapp}], [{observation_name: appcall_messenger_chat_long_answer_click_inapp}], [{observation_name: appcall_messenger_chat_menu_click_inapp}]]}], obs: [observation_value]}
  appcall_click_phone:                     {filter: [{$or: [[{observation_name: appcall_item_click_phone}], [{observation_name: appcall_item_gallery_click_phone}], [{observation_name: appcall_messenger_chat_long_answer_click_phone}], [{observation_name: appcall_messenger_chat_menu_click_phone}]]}], obs: [observation_value]}
  appcall_show_buttons:                    {filter: [{$or: [[{observation_name: appcall_item_gallery_show_buttons}], [{observation_name: appcall_item_show_buttons}], [{observation_name: appcall_messenger_chat_long_answer_show_buttons}], [{observation_name: appcall_messenger_chat_menu_show_buttons}]]}], obs: [observation_value]}
  calls:                                   {filter: [{$or: [[{observation_name: answered_proxy_calls}], [{observation_name: call_phone_screen_views_client}], [{observation_name: missed_proxy_calls}]]}], obs: [observation_value]}
  calls_fav:                               {filter: [{$or: [[{observation_name: answered_proxy_calls_fav}], [{observation_name: missed_proxy_calls_fav}]]}], obs: [observation_value]}
  calls_map:                               {filter: [{$or: [[{observation_name: answered_proxy_calls_map}], [{observation_name: missed_proxy_calls_map}]]}], obs: [observation_value]}
  calls_rec:                               {filter: [{$or: [[{observation_name: answered_proxy_calls_rec}], [{observation_name: missed_proxy_calls_rec}]]}], obs: [observation_value]}
  calls_serp:                              {filter: [{$or: [[{observation_name: answered_proxy_calls_serp}], [{observation_name: missed_proxy_calls_serp}]]}], obs: [observation_value]}
  cnt_appcall_anon_success:                {filter: [{$or: [[{observation_name: anon_calls_matched_success_itemview}], [{observation_name: appcall_bx_outgoing_item_gallery_success}], [{observation_name: appcall_bx_outgoing_item_success}]]}], obs: [observation_value], m42: False}
  cnt_appcall_bx_incoming_call_log_callback_deeplink_back_messen: {filter: [{$or: [[{observation_name: appcall_bx_incoming_call_log_callback}], [{observation_name: appcall_bx_incoming_deeplink_call_back}], [{observation_name: appcall_bx_incoming_messenger_call_back}], [{observation_name: appcall_bx_incoming_notification_call_back}], [{observation_name: appcall_bx_outgoing_call_log_callback}], [{observation_name: appcall_bx_outgoing_deeplink_call_back}], [{observation_name: appcall_bx_outgoing_item_gallery}], [{observation_name: appcall_bx_outgoing_item}], [{observation_name: appcall_bx_outgoing_messenger_call_back}], [{observation_name: appcall_bx_outgoing_messenger_chat_long_answer}], [{observation_name: appcall_bx_outgoing_messenger_chat_menu}], [{observation_name: appcall_bx_outgoing_notification_call_back}]]}], obs: [observation_value], m42: False}
  cnt_appcall_bx_outgoing_item_gallery:    {filter: [{$or: [[{observation_name: appcall_bx_outgoing_item_gallery}], [{observation_name: appcall_bx_outgoing_item}]]}], obs: [observation_value], m42: False}
  cnt_appcall_bx_outgoing_item_gallery_success: {filter: [{$or: [[{observation_name: appcall_bx_outgoing_item_gallery_success}], [{observation_name: appcall_bx_outgoing_item_success}]]}], obs: [observation_value], m42: False}
  cnt_appcall_item_gallery_show_buttons:   {filter: [{$or: [[{observation_name: appcall_item_gallery_show_buttons}], [{observation_name: appcall_item_show_buttons}]]}], obs: [observation_value], m42: False}
  missed_proxy_calls:                      {filter: [{observation_name: missed_proxy_calls}], obs: [observation_value]}
  missed_proxy_calls_fav:                  {filter: [{observation_name: missed_proxy_calls_fav}], obs: [observation_value]}
  missed_proxy_calls_map:                  {filter: [{observation_name: missed_proxy_calls_map}], obs: [observation_value]}
  missed_proxy_calls_rec:                  {filter: [{observation_name: missed_proxy_calls_rec}], obs: [observation_value]}
  missed_proxy_calls_serp:                 {filter: [{observation_name: missed_proxy_calls_serp}], obs: [observation_value]}

metric.uniq:
  unq_item_appcall_item_gallery_show_buttons: {counter: cnt_appcall_item_gallery_show_buttons, key: [item], m42: False}
  appcall_click_inapp_users:               {counter: appcall_click_inapp,             key: [participant]}
  appcall_show_buttons_users:              {counter: appcall_show_buttons,            key: [participant]}
  unq_appcall_anon:                        {counter: appcall_anon_bx_outgoing_itemview, key: [participant], m42: False}
  unq_appcall_anon_success:                {counter: cnt_appcall_anon_success,        key: [participant], m42: False}
  unq_appcall_bx_outgoing_item_gallery:    {counter: cnt_appcall_bx_outgoing_item_gallery, key: [participant], m42: False}
  unq_appcall_bx_outgoing_item_gallery_success: {counter: cnt_appcall_bx_outgoing_item_gallery_success, key: [participant], m42: False}
  users_ancalls_any_type:                  {counter: ancalls_any_type,                key: [participant]}
  users_ancalls_both_types:                {counter: ancalls_both_types,              key: [participant]}
  users_ancalls_by_phone:                  {counter: ancalls_by_phone,                key: [participant]}
  users_ancalls_by_phone_uid:              {counter: ancalls_by_phone_uid,            key: [participant]}
  users_ancalls_by_time:                   {counter: ancalls_by_time,                 key: [participant]}
  users_phone_calls_client:                {counter: calls,                           key: [participant]}
  users_phone_calls_client_fav:            {counter: calls_fav,                       key: [participant]}
  users_phone_calls_client_map:            {counter: calls_map,                       key: [participant]}
  users_phone_calls_client_serp:           {counter: calls_serp,                      key: [participant]}

metric.ratio:
  appcall_anon_bx_appcall_ratio:           {num: cnt_appcall_bx_incoming_call_log_callback_deeplink_back_messen, den: appcall_anon_bx_total_calls}
  appcall_anon_bx_outgoing_appcall_ratio:  {num: appcall_bx_outgoing,             den: appcall_anon_bx_outgoing}
  appcall_anon_bx_outgoing_direct_answered_ratio: {num: appcall_anon_bx_outgoing_direct_answered, den: appcall_anon_bx_outgoing_direct}
  appcall_anon_bx_outgoing_direct_appcall_ratio: {num: appcall_bx_outgoing_direct,      den: appcall_anon_bx_outgoing_direct}
  appcall_anon_bx_outgoing_direct_success_answered_ratio: {num: appcall_anon_bx_outgoing_direct_success, den: appcall_anon_bx_outgoing_direct_answered}
  appcall_anon_bx_outgoing_direct_success_ratio: {num: appcall_anon_bx_outgoing_direct_success, den: appcall_anon_bx_outgoing_direct}
  appcall_bx_outgoing_direct_answered_ratio: {num: appcall_bx_outgoing_direct_answered, den: appcall_bx_outgoing_direct}
  appcall_bx_outgoing_direct_success_answered_ratio: {num: appcall_bx_outgoing_direct_success, den: appcall_bx_outgoing_direct_answered}
  appcall_bx_outgoing_direct_success_ratio: {num: appcall_bx_outgoing_direct_success, den: appcall_bx_outgoing_direct}
  appcall_click_inapp_ratio:               {num: appcall_click_inapp,             den: appcall_show_buttons}
  appcall_click_inapp_users_share:         {num: appcall_click_inapp_users,       den: appcall_show_buttons_users}
  appcall_click_phone_ratio:               {num: appcall_click_phone,             den: appcall_show_buttons}

