# Check for duplicates
# (cat ./bx_auto.yaml) | grep -E ' *- [a-z_]+' | grep -vE '^[^#]*:' | awk -v FS='-' '{print $2}' | awk -v FS='#' '{print $1}' | awk '{print "\""$1"\""}' | sort | uniq -c | sort | grep -E "^ *[2-9]" | awk -v FS='"' -v ORS='|' '{print $2}' | sed 's/|$//' | awk '{print "grep -nE \"("$1")\" ./bx_auto.yaml"}'

breakdowns:
    breakdown_1:
        - {}
        - is_cookie_new: ['false']
        - is_logged_in: ['true']
        - vertical: ['Transport']
        - {vertical: ['Transport'], is_cookie_new: ['false']}
        - {vertical: ['Transport'], is_cookie_new: ['true']}
        - {vertical: ['Transport'], is_logged_in: ['true']}
        - {vertical: ['Transport'], category: [Транспорт], subcategory: [Автомобили]}
        - {vertical: ['Transport'], category: [Транспорт], subcategory: [Новые автомобили]}
        - {vertical: ['Transport'], category: [Транспорт], subcategory: [Автомобили, Новые автомобили]}
        - {vertical: ['Transport'], category: [Транспорт], subcategory: [Автомобили, Новые автомобили], is_cookie_new: ['false']}
        - {vertical: ['Transport'], category: [Транспорт], subcategory: [Автомобили, Новые автомобили], is_cookie_new: ['true']}
        - {vertical: ['Transport'], category: [Транспорт], subcategory: [Автомобили, Новые автомобили], is_logged_in: ['true']}
        - vertical: ['Transport']
          category: [Транспорт]
          subcategory: [Автомобили, Новые автомобили]
          region: [ # Center-Challenged
                'Адыгея', 'Архангельская область', 'Белгородская область', 
                'Краснодарский край', 'Курская область', 'Липецкая область', 
                'Ненецкий АО', 'Орловская область', 'Пензенская область', 
                'Ростовская область', 'Самарская область', 'Тамбовская область'
            ]
        - vertical: ['Transport']
          category: [Транспорт]
          subcategory: [Автомобили, Новые автомобили]
          region: [ # Center-Leadership
                'Астраханская область', 'Башкортостан', 'Волгоградская область',
                'Вологодская область', 'Дагестан', 'Ингушетия', 'Кабардино-Балкария',
                'Калининградская область', 'Калмыкия', 'Карачаево-Черкесия',
                'Карелия', 'Кировская область', 'Коми', 'Марий Эл', 'Мурманская область',
                'Новгородская область', 'Оренбургская область', 'Пермский край',
                'Псковская область', 'Саратовская область', 'Северная Осетия',
                'Ставропольский край', 'Татарстан', 'Удмуртия',
                'Ульяновская область', 'Чеченская Республика', 'Чувашия'
            ]
        - vertical: ['Transport']
          category: [Транспорт]
          subcategory: [Автомобили, Новые автомобили]
          region: [ # Drom Core
                'Алтайский край', 'Амурская область', 'Бурятия', 'Еврейская АО',
                'Забайкальский край', 'Иркутская область', 'Камчатский край',
                'Кемеровская область', 'Красноярский край', 'Крым',
                'Магаданская область', 'Новосибирская область', 'Приморский край',
                'Республика Алтай', 'Саха (Якутия)', 'Сахалинская область', 
                'Томская область', 'Тыва', 'Хабаровский край', 'Хакасия', 'Чукотский АО'
            ]
        - vertical: ['Transport']
          category: [Транспорт]
          subcategory: [Автомобили, Новые автомобили]
          region: [ # Drom Front
                'Курганская область', 'Омская область', 'Свердловская область',
                'Тюменская область', 'Ханты-Мансийский АО', 'Челябинская область',
                'Ямало-Ненецкий АО'
            ]
        - vertical: ['Transport']
          category: [Транспорт]
          subcategory: [Автомобили, Новые автомобили]
          region: [ # Moscow & Region
                'Москва', 'Московская область'
            ]
        - vertical: ['Transport']
          category: [Транспорт]
          subcategory: [Автомобили, Новые автомобили]
          region: [ # Moscow Ring
                'Брянская область', 'Владимирская область', 'Воронежская область', 
                'Ивановская область', 'Калужская область', 'Костромская область',
                'Мордовия', 'Нижегородская область', 'Рязанская область', 
                'Смоленская область', 'Тверская область', 'Тульская область',
                'Ярославская область'
            ]
        - vertical: ['Transport']
          category: [Транспорт]
          subcategory: [Автомобили, Новые автомобили]
          region: [ # St Pete & Region
                'Ленинградская область', 'Санкт-Петербург'
            ]

metrics_by_breakdowns:        
    breakdown_1:
        - ad_pages_to_contact
        - advertisement_page_views
        - all_main_pages
        - bt_clicks
        - buyer_target_clicks_rec
        - buyer_target_clicks_serp
        - buyer_target_clicks_serp_per_search
        - buyers
        - buyers_per_users
        - buyers_per_users_favorites
        - contacts
        - contacts_per_item_view
        - contacts_premium
        - contacts_push
        - contacts_rec
        - contacts_rec_i2i        
        - contacts_rec_per_item_views_rec
        - contacts_rec_u2i
        - contacts_serp
        - contacts_serp_per_item_views_serp
        - contacts_serp_per_search
        - contacts_vas
        - contacts_vip
        - fav_added_rec
        - fav_added_rec_i2i
        - fav_added_rec_u2i
        - fav_added_serp
        - fav_added_serp_per_search
        - favorites_added
        - favorites_list_views
        - favorites_removed
        - first_messages
        - head_main_pages
        - item_views
        - item_views_premium
        - item_views_push
        - item_views_rec
        - item_views_rec_i2i
        - item_views_rec_u2i
        - item_views_serp
        - item_views_serp_per_search
        - item_views_to_contact
        - item_views_vas
        - item_views_vip
        - item_views_vip_per_search
        - users_first_messages
        - new_buyers
        - phone_views
        - phone_views_per_item_view
        - phone_views_snippet
        - phone_views_total
        - returned_buyers
        - saved_searches_added
        - searches
        - searches_and_item_views_to_contact
        - searches_contact_serp
        - searches_item_view_serp
        - searches_item_view_serp_per_searches_serp
        - searches_item_view_vas
        - searches_serp
        - searches_to_contact
        - searches_with_query
        - searches_without_query
        - serp_empty
        - serp_small
        - shows_contact_recblock
        - shows_item_view_recblock
        - shows_item_view_recblock_per_recblock_shows
        - transport_main_pages
        - users_active_daily
        - users_all_main_page_daily
        - users_bt_click_daily
        - users_bt_click_per_users
        - users_buyer_target_click_rec_daily
        - users_buyer_target_click_serp_daily
        - users_contact_rec_daily
        - users_contact_rec_i2i
        - users_contact_rec_u2i
        - users_contact_serp_daily
        - users_favorites
        - users_item_view_daily
        - users_item_view_per_users
        - users_item_view_rec_daily
        - users_item_view_rec_i2i
        - users_item_view_rec_u2i
        - users_item_view_serp_daily
        - users_search
        - users_search_query
        - write_button_clicks
        - users_item_view_search_query
        - users_contact_search_query
        - users_contact_per_search
        - users_contact_per_item_view_search
        - users_contact_per_search_query
        - users_transport_main_page_daily
        - users_item_view_per_search
        - users_item_view_per_search_query
        - item_views_grouped
        - phone_views_grouped
        - phone_views_in_chat_grouped
        - write_button_clicks_grouped
        - delivery_orders_created_grouped
        - booking_created_short_rent_grouped
        - bt_clicks_grouped
        - contacts_grouped
        - map_searches
        - pin_clicks
        - map_users
        - pin_clickers
        - buyer_target_clicks_vas
        - serp_empty_per_s
        - serp_small_per_s
        - ad_clicks
        - ad_revenue_predict
        - call_phones
        - call_phones_per_phone_views
        - calls
        - calls_dialogues
        - calls_per_dialogue
        - calls_per_phone_views
        - favorites_added_grouped
        - favorites_net
        - filters_screen_shows
        - user_filters_screen_shows
        - searches_with_filter
        - searches_with_price_filter 
        - searches_with_filter_any
        - searches_filter_any_per_search
        - users_search_filter_any
        - users_item_views_search_filter_any
        - users_btc_search_filter_any
        - btc_search_filter_any_per_search_filter_any
        - item_views_search_filter_any_per_search_filter_any
        - searches_local_geo  
        - searches_local_geo_per_search
        - users_searches_local_geo
        - users_contacts_serp_local_geo
        - searches_radius
        - searches_radius_per_search
        - users_searches_radius
        - users_contacts_serp_radius
        - item_edit_starts 
        - item_edits 
        - item_edits_per_item_edit_starts 
        - item_edits_per_items_started_net_start_date 
        - item_edits_start_date 
        - items_add_started
        - items_added
        - items_added
        - items_closed_by_user 
        - items_closed_by_user_per_items_started_net_start_date 
        - items_edit_started 
        - items_edited 
        - items_edited_per_items_edit_started 
        - items_edited_start_date 
        - items_sold_onavito 
        - items_sold_onavito_conversion 
        - items_sold_onavito_per_items_started_net_start_date 
        - items_sold_onavito_start_date 
        - items_started_net
        - loc_suggests_per_text_inputs
        - loc_window_opens
        - loc_window_saves_per_opens
        - location_text_inputs
        - sellers_daily
        - serp_noq_empty_per_s_noq
        - serp_noq_small_per_s_noq
        - serp_with_query_empty
        - serp_with_query_small
        - serp_without_query_empty
        - serp_without_query_small
        - serp_wq_empty_per_s_wq
        - serp_wq_small_per_s_wq
        - sessions_active
        - sessions_btc
        - sessions_btc_per_active
        - sessions_btc_r
        - sessions_btc_r_i2i
        - sessions_btc_r_i2i_per_r_i2i
        - sessions_btc_r_per_r
        - sessions_btc_r_u2i
        - sessions_btc_r_u2i_per_r_u2i
        - sessions_btc_s
        - sessions_btc_s_noq
        - sessions_btc_s_noq_per_s_noq
        - sessions_btc_s_per_s
        - sessions_btc_s_q
        - sessions_btc_s_q_per_s_q
        - sessions_c
        - sessions_c_per_active
        - sessions_c_per_iv
        - sessions_c_r
        - sessions_c_r_i2i
        - sessions_c_r_i2i_per_r_i2i
        - sessions_c_r_per_r
        - sessions_c_r_u2i
        - sessions_c_r_u2i_per_r_u2i
        - sessions_c_rec_i2i_per_iv_rec_i2i
        - sessions_c_rec_per_iv_rec
        - sessions_c_rec_u2i_per_iv_rec_u2i
        - sessions_c_s
        - sessions_c_s_noq
        - sessions_c_s_noq_per_iv_s_noq
        - sessions_c_s_noq_per_s_noq
        - sessions_c_s_per_iv_s
        - sessions_c_s_per_s
        - sessions_c_s_q
        - sessions_c_s_q_per_iv_s_q
        - sessions_c_s_q_per_s_q
        - sessions_iv
        - sessions_iv_per_active
        - sessions_iv_r
        - sessions_iv_r_i2i
        - sessions_iv_r_i2i_per_r_i2i
        - sessions_iv_r_per_r
        - sessions_iv_r_u2i
        - sessions_iv_r_u2i_per_r_u2i
        - sessions_iv_s
        - sessions_iv_s_noq
        - sessions_iv_s_noq_per_s_noq
        - sessions_iv_s_per_s
        - sessions_iv_s_q
        - sessions_iv_s_q_per_s_q
        - users_2plus_actions
        - users_item_add_started
        - users_item_closed_by_user 
        - users_item_edit 
        - users_item_edit_start 
        - users_item_edit_start_date 
        - users_phone_calls

